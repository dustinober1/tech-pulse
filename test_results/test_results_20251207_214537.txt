================================================================================
TECH-PULSE DATA LOADER TEST RESULTS
================================================================================
Test Run Date: 2025-12-07 21:45:37
Tests Run: 276
Failures: 5
Errors: 100
Skipped: 13
Success Rate: 62.0%

OVERALL RESULT: âœ— SOME TESTS FAILED

STANDARD OUTPUT:
----------------------------------------
phase7.test_multi_source (unittest.loader._FailedTest.phase7.test_multi_source) ... ERROR
phase7.test_predictor (unittest.loader._FailedTest.phase7.test_predictor) ... ERROR
phase7.test_user_management (unittest.loader._FailedTest.phase7.test_user_management) ... ERROR
portfolio.test_config (unittest.loader._FailedTest.portfolio.test_config) ... ERROR
portfolio.test_experimentation (unittest.loader._FailedTest.portfolio.test_experimentation) ... ERROR
test_fetch_all_sources_default_parameters (test_aggregator.TestMultiSourceAggregator.test_fetch_all_sources_default_parameters)
Test that fetch_all_sources uses default parameters when None is passed. ... ok
test_fetch_all_sources_parameters (test_aggregator.TestMultiSourceAggregator.test_fetch_all_sources_parameters)
Test that fetch_all_sources handles parameters correctly. ... ok
test_parameter_validation_logs (test_aggregator.TestMultiSourceAggregator.test_parameter_validation_logs)
Test that parameter validation logs the correct values. ... ok
test_cache_expiry (test_cache_manager.TestCacheManager.test_cache_expiry)
Test cache expiration functionality. ... ok
test_cache_miss_conditions (test_cache_manager.TestCacheManager.test_cache_miss_conditions)
Test various cache miss scenarios. ... ok
test_cache_with_different_analysis_types (test_cache_manager.TestCacheManager.test_cache_with_different_analysis_types)
Test caching with different analysis types. ... ok
test_clear_cache (test_cache_manager.TestCacheManager.test_clear_cache)
Test clearing cache functionality. ... ok
test_empty_dataframe_handling (test_cache_manager.TestCacheManager.test_empty_dataframe_handling)
Test handling of empty DataFrames. ... ok
test_error_handling (test_cache_manager.TestCacheManager.test_error_handling)
Test error handling in cache operations. ... ok
test_generate_cache_key (test_cache_manager.TestCacheManager.test_generate_cache_key)
Test cache key generation. ... ok
test_get_cache_info (test_cache_manager.TestCacheManager.test_get_cache_info)
Test cache information retrieval. ... ok
test_initialization (test_cache_manager.TestCacheManager.test_initialization)
Test CacheManager initialization. ... ok
test_logging (test_cache_manager.TestCacheManager.test_logging)
Test that appropriate logging occurs. ... ok
test_save_and_load_cache (test_cache_manager.TestCacheManager.test_save_and_load_cache)
Test saving and loading cache data. ... ok
test_create_charts_row_with_data (test_dashboard.TestDashboardComponents.test_create_charts_row_with_data)
Test charts row creation with data ... ok
test_create_data_table_with_data (test_dashboard.TestDashboardComponents.test_create_data_table_with_data)
Test data table creation with data ... ok
test_create_header (test_dashboard.TestDashboardComponents.test_create_header)
Test header creation ... ok
test_create_metrics_row_with_data (test_dashboard.TestDashboardComponents.test_create_metrics_row_with_data)
Test metrics row creation with data ... ok
test_create_metrics_row_with_empty_data (test_dashboard.TestDashboardComponents.test_create_metrics_row_with_empty_data)
Test metrics row creation with empty data ... ok
test_create_sidebar (test_dashboard.TestDashboardComponents.test_create_sidebar)
Test sidebar creation ... ERROR
test_color_scheme (test_dashboard.TestDashboardConfig.test_color_scheme)
Test color scheme has required colors ... ok
test_default_settings (test_dashboard.TestDashboardConfig.test_default_settings)
Test default settings are valid ... ok
test_page_config_structure (test_dashboard.TestDashboardConfig.test_page_config_structure)
Test that page configuration has required keys ... ok
test_check_auto_refresh_disabled (test_dashboard.TestDashboardDataOperations.test_check_auto_refresh_disabled)
Test auto-refresh when disabled ... ok
test_check_auto_refresh_enabled_not_triggered (test_dashboard.TestDashboardDataOperations.test_check_auto_refresh_enabled_not_triggered)
Test auto-refresh when enabled but not time yet ... ok
test_check_auto_refresh_enabled_triggered (test_dashboard.TestDashboardDataOperations.test_check_auto_refresh_enabled_triggered)
Test auto-refresh when enabled and time passed ... ok
test_export_data_csv (test_dashboard.TestDashboardDataOperations.test_export_data_csv)
Test CSV export functionality ... ok
test_export_data_json (test_dashboard.TestDashboardDataOperations.test_export_data_json)
Test JSON export functionality ... ok
test_export_data_no_data (test_dashboard.TestDashboardDataOperations.test_export_data_no_data)
Test export functionality with no data ... ok
test_refresh_data_api_error (test_dashboard.TestDashboardDataOperations.test_refresh_data_api_error)
Test data refresh with API error ... ok
test_refresh_data_empty_response (test_dashboard.TestDashboardDataOperations.test_refresh_data_empty_response)
Test data refresh with empty response ... ok
test_refresh_data_success (test_dashboard.TestDashboardDataOperations.test_refresh_data_success)
Test successful data refresh ... ok
test_initialize_session_state (test_dashboard.TestDashboardInitialization.test_initialize_session_state)
Test session state initialization ... ERROR
test_initialize_session_state_preserves_existing (test_dashboard.TestDashboardInitialization.test_initialize_session_state_preserves_existing)
Test that initialization preserves existing session state ... ERROR
test_data_flow_integration (test_dashboard.TestDashboardIntegration.test_data_flow_integration)
Test complete data flow integration ... ok
test_main_with_data (test_dashboard.TestDashboardMain.test_main_with_data)
Test main function with data present ... ERROR
test_main_without_data (test_dashboard.TestDashboardMain.test_main_without_data)
Test main function without data ... ERROR
test_basic_data_structure_compatibility (test_dashboard_basic.TestDashboardBasicFunctionality.test_basic_data_structure_compatibility)
Test that our data structure is compatible with dashboard expectations ... ok
test_dashboard_config_import (test_dashboard_basic.TestDashboardBasicFunctionality.test_dashboard_config_import)
Test that dashboard configuration can be imported ... ok
test_data_loader_integration (test_dashboard_basic.TestDashboardBasicFunctionality.test_data_loader_integration)
Test that data_loader functions can be imported and work ... ok
test_export_format_options (test_dashboard_basic.TestDashboardBasicFunctionality.test_export_format_options)
Test that export formats are properly defined ... ok
test_required_dependencies_available (test_dashboard_basic.TestDashboardBasicFunctionality.test_required_dependencies_available)
Test that required dependencies are available ... ok
test_sentiment_label_values (test_dashboard_basic.TestDashboardBasicFunctionality.test_sentiment_label_values)
Test that sentiment labels have expected values ... ok
test_chart_config (test_dashboard_config.TestDashboardConfig.test_chart_config)
Test chart configuration ... ok
test_color_scheme (test_dashboard_config.TestDashboardConfig.test_color_scheme)
Test color scheme has required colors ... ok
test_config_consistency (test_dashboard_config.TestDashboardConfig.test_config_consistency)
Test configuration consistency ... ok
test_default_settings (test_dashboard_config.TestDashboardConfig.test_default_settings)
Test default settings are valid ... ok
test_error_messages (test_dashboard_config.TestDashboardConfig.test_error_messages)
Test error messages ... ok
test_help_text (test_dashboard_config.TestDashboardConfig.test_help_text)
Test help text content ... ok
test_loading_messages (test_dashboard_config.TestDashboardConfig.test_loading_messages)
Test loading messages ... ok
test_page_config_structure (test_dashboard_config.TestDashboardConfig.test_page_config_structure)
Test that page configuration has required keys ... ok
test_page_config_values (test_dashboard_config.TestDashboardConfig.test_page_config_values)
Test that page config has valid values ... ok
test_real_time_error_messages (test_dashboard_config.TestDashboardConfig.test_real_time_error_messages)
Test real-time error messages ... ok
test_real_time_help_text (test_dashboard_config.TestDashboardConfig.test_real_time_help_text)
Test real-time help text ... ok
test_real_time_settings (test_dashboard_config.TestDashboardConfig.test_real_time_settings)
Test real-time settings configuration ... ok
test_real_time_success_messages (test_dashboard_config.TestDashboardConfig.test_real_time_success_messages)
Test real-time success messages ... ok
test_sentiment_colors (test_dashboard_config.TestDashboardConfig.test_sentiment_colors)
Test sentiment color mapping ... ok
test_success_messages (test_dashboard_config.TestDashboardConfig.test_success_messages)
Test success messages ... ok
test_analyze_sentiment_empty_dataframe (test_data_loader.TestAnalyzeSentiment.test_analyze_sentiment_empty_dataframe)
Test sentiment analysis with empty DataFrame ... ok
test_analyze_sentiment_missing_title_column (test_data_loader.TestAnalyzeSentiment.test_analyze_sentiment_missing_title_column)
Test sentiment analysis with missing title column ... ok
test_analyze_sentiment_normal_case (test_data_loader.TestAnalyzeSentiment.test_analyze_sentiment_normal_case)
Test sentiment analysis with normal data ... ok
test_analyze_sentiment_with_empty_titles (test_data_loader.TestAnalyzeSentiment.test_analyze_sentiment_with_empty_titles)
Test sentiment analysis with empty and NaN titles ... ok
test_extract_story_data_complete (test_data_loader.TestExtractStoryData.test_extract_story_data_complete)
Test extraction with complete story data ... ok
test_extract_story_data_empty_dict (test_data_loader.TestExtractStoryData.test_extract_story_data_empty_dict)
Test extraction with empty dictionary ... ok
test_extract_story_data_minimal (test_data_loader.TestExtractStoryData.test_extract_story_data_minimal)
Test extraction with minimal story data ... ok
test_extract_story_data_missing_optional_fields (test_data_loader.TestExtractStoryData.test_extract_story_data_missing_optional_fields)
Test extraction with missing optional fields ... ok
test_extract_story_data_no_title (test_data_loader.TestExtractStoryData.test_extract_story_data_no_title)
Test extraction with missing title ... ok
test_extract_story_data_none_input (test_data_loader.TestExtractStoryData.test_extract_story_data_none_input)
Test extraction with None input ... ok
test_fetch_hn_data_custom_limit (test_data_loader.TestFetchHnData.test_fetch_hn_data_custom_limit)
Test fetching with custom limit ... ok
test_fetch_hn_data_ids_fetch_fails (test_data_loader.TestFetchHnData.test_fetch_hn_data_ids_fetch_fails)
Test when initial ID fetch fails ... ok
test_fetch_hn_data_skip_invalid_stories (test_data_loader.TestFetchHnData.test_fetch_hn_data_skip_invalid_stories)
Test skipping stories without titles ... ok
test_fetch_hn_data_story_details_fails (test_data_loader.TestFetchHnData.test_fetch_hn_data_story_details_fails)
Test when individual story detail fetch fails ... ok
test_fetch_hn_data_success (test_data_loader.TestFetchHnData.test_fetch_hn_data_success)
Test successful fetch of HN data ... ok
test_fetch_story_details_custom_url (test_data_loader.TestFetchStoryDetails.test_fetch_story_details_custom_url)
Test fetching from custom base URL ... ok
test_fetch_story_details_not_found (test_data_loader.TestFetchStoryDetails.test_fetch_story_details_not_found)
Test handling of 404 errors ... ok
test_fetch_story_details_success (test_data_loader.TestFetchStoryDetails.test_fetch_story_details_success)
Test successful fetch of story details ... ok
test_fetch_story_ids_connection_error (test_data_loader.TestFetchStoryIds.test_fetch_story_ids_connection_error)
Test handling of connection errors ... ok
test_fetch_story_ids_custom_url (test_data_loader.TestFetchStoryIds.test_fetch_story_ids_custom_url)
Test fetching from custom base URL ... ok
test_fetch_story_ids_json_error (test_data_loader.TestFetchStoryIds.test_fetch_story_ids_json_error)
Test handling of JSON decoding errors ... ok
test_fetch_story_ids_success (test_data_loader.TestFetchStoryIds.test_fetch_story_ids_success)
Test successful fetch of story IDs ... ok
test_get_topics_custom_embedding_model (test_data_loader.TestGetTopics.test_get_topics_custom_embedding_model)
Test topic modeling with custom embedding model ... ok
test_get_topics_empty_dataframe (test_data_loader.TestGetTopics.test_get_topics_empty_dataframe)
Test topic modeling with empty DataFrame ... ok
test_get_topics_insufficient_data (test_data_loader.TestGetTopics.test_get_topics_insufficient_data)
Test topic modeling with insufficient data (less than 2 valid titles) ... ok
test_get_topics_missing_title_column (test_data_loader.TestGetTopics.test_get_topics_missing_title_column)
Test topic modeling with missing title column ... ok
test_get_topics_model_error (test_data_loader.TestGetTopics.test_get_topics_model_error)
Test topic modeling with model error ... ok
test_get_topics_normal_case (test_data_loader.TestGetTopics.test_get_topics_normal_case)
Test topic modeling with normal data ... ok
test_get_topics_with_none_titles (test_data_loader.TestGetTopics.test_get_topics_with_none_titles)
Test topic modeling with None and NaN titles ... ok
test_process_stories_to_dataframe_empty (test_data_loader.TestProcessStoriesToDataframe.test_process_stories_to_dataframe_empty)
Test processing empty stories list ... ok
test_process_stories_to_dataframe_none (test_data_loader.TestProcessStoriesToDataframe.test_process_stories_to_dataframe_none)
Test processing None input ... ok
test_process_stories_to_dataframe_single_story (test_data_loader.TestProcessStoriesToDataframe.test_process_stories_to_dataframe_single_story)
Test processing single story ... ok
test_process_stories_to_dataframe_success (test_data_loader.TestProcessStoriesToDataframe.test_process_stories_to_dataframe_success)
Test processing valid stories list ... ok
test_app_py_exists (test_deployment_ready.TestDeploymentReady.test_app_py_exists)
Test 1: Verify app.py exists. ... ok
test_app_py_has_main (test_deployment_ready.TestDeploymentReady.test_app_py_has_main)
Test 2: Check that app.py has streamlit code or main entry point. ... ok
test_cache_manager_exists (test_deployment_ready.TestDeploymentReady.test_cache_manager_exists)
Test 5: Verify cache_manager.py exists. ... ok
test_dashboard_config_exists (test_deployment_ready.TestDeploymentReady.test_dashboard_config_exists)
Test 4: Verify dashboard_config.py exists. ... ok
test_data_loader_exists (test_deployment_ready.TestDeploymentReady.test_data_loader_exists)
Test 3: Verify data_loader.py exists. ... ok
test_git_clean (test_deployment_ready.TestDeploymentReady.test_git_clean)
Test 10: Run 'git status --porcelain' and verify no uncommitted changes. ... FAIL
test_gitignore_ready (test_deployment_ready.TestDeploymentReady.test_gitignore_ready)
Test 9: Verify .gitignore contains necessary entries. ... ok
test_no_absolute_local_paths (test_deployment_ready.TestDeploymentReady.test_no_absolute_local_paths)
Test 7: Scan app.py and data_loader.py for hardcoded absolute paths. ... ok
test_remote_exists (test_deployment_ready.TestDeploymentReady.test_remote_exists)
Test 11: Run 'git remote -v' and verify origin remote exists with github.com URL. ... ok
test_requirements_complete (test_deployment_ready.TestDeploymentReady.test_requirements_complete)
Test 6: Check that requirements.txt contains all necessary packages. ... ok
test_streamlit_page_config (test_deployment_ready.TestDeploymentReady.test_streamlit_page_config)
Test 8: Check that app.py calls st.set_page_config. ... ok
test_cache_directory_excluded (test_gitignore.TestGitignore.test_cache_directory_excluded)
Test that cache/ pattern is present in .gitignore. ... ok
test_ds_store_excluded (test_gitignore.TestGitignore.test_ds_store_excluded)
Test that .DS_Store pattern is present in .gitignore. ... ok
test_env_file_excluded (test_gitignore.TestGitignore.test_env_file_excluded)
Test that .env pattern is present in .gitignore. ... ok
test_gitignore_exists (test_gitignore.TestGitignore.test_gitignore_exists)
Test that .gitignore file exists in project root. ... ok
test_pycache_excluded (test_gitignore.TestGitignore.test_pycache_excluded)
Test that __pycache__/ pattern is present in .gitignore. ... ok
test_venv_excluded (test_gitignore.TestGitignore.test_venv_excluded)
Test that venv/ pattern is present in .gitignore. ... ok
test_interpretability_report (unittest.loader._FailedTest.test_interpretability_report) ... ERROR
test_lime_explainer (unittest.loader._FailedTest.test_lime_explainer) ... ERROR
test_partial_dependence (unittest.loader._FailedTest.test_partial_dependence) ... ERROR
test_basic_page_layout (test_pdf_generation.TestPDFGenerationInfrastructure.test_basic_page_layout)
Test basic page layout functionality ... skipped 'PDF generation modules not available'
test_custom_styles_creation (test_pdf_generation.TestPDFGenerationInfrastructure.test_custom_styles_creation)
Test custom styles are created properly ... skipped 'PDF generation modules not available'
test_different_page_sizes (test_pdf_generation.TestPDFGenerationInfrastructure.test_different_page_sizes)
Test PDF generation with different page sizes ... skipped 'PDF generation modules not available'
test_empty_data_handling (test_pdf_generation.TestPDFGenerationInfrastructure.test_empty_data_handling)
Test handling of empty or minimal data ... skipped 'PDF generation modules not available'
test_error_handling (test_pdf_generation.TestPDFGenerationInfrastructure.test_error_handling)
Test error handling for invalid inputs ... skipped 'PDF generation modules not available'
test_font_rendering (test_pdf_generation.TestPDFGenerationInfrastructure.test_font_rendering)
Test font rendering capabilities ... skipped 'PDF generation modules not available'
test_large_content_handling (test_pdf_generation.TestPDFGenerationInfrastructure.test_large_content_handling)
Test handling of larger content ... skipped 'PDF generation modules not available'
test_margin_settings (test_pdf_generation.TestPDFGenerationInfrastructure.test_margin_settings)
Test different margin settings ... skipped 'PDF generation modules not available'
test_pdf_builder_initialization (test_pdf_generation.TestPDFGenerationInfrastructure.test_pdf_builder_initialization)
Test PDF builder initializes correctly ... skipped 'PDF generation modules not available'
test_sample_pdf_creation (test_pdf_generation.TestPDFGenerationInfrastructure.test_sample_pdf_creation)
Test the sample PDF creation function ... skipped 'PDF generation modules not available'
test_competitor_tracking (test_phase9_analytics.TestMarketIntelligence.test_competitor_tracking)
Test competitor tracking functionality ... skipped 'Phase 9 modules not available'
test_market_volatility_analysis (test_phase9_analytics.TestMarketIntelligence.test_market_volatility_analysis)
Test market volatility analysis ... skipped 'Phase 9 modules not available'
test_trend_prediction (test_phase9_analytics.TestMarketIntelligence.test_trend_prediction)
Test advanced trend prediction ... skipped 'Phase 9 modules not available'
test_loop_error_continuation (test_realtime_features.TestRealtimeErrorHandling.test_loop_error_continuation)
Test that loop continues after errors ... ok
test_placeholder_error_handling (test_realtime_features.TestRealtimeErrorHandling.test_placeholder_error_handling)
Test error handling with placeholder containers ... ERROR
test_session_state_error_recovery (test_realtime_features.TestRealtimeErrorHandling.test_session_state_error_recovery)
Test recovery from session state errors ... ERROR
test_timestamp_error_handling (test_realtime_features.TestRealtimeErrorHandling.test_timestamp_error_handling)
Test timestamp display error handling ... ok
test_realtime_loop_interrupt_handling (test_realtime_features.TestRealtimeLoopMocking.test_realtime_loop_interrupt_handling)
Test that loop interrupts are handled gracefully ... ok
test_realtime_loop_structure (test_realtime_features.TestRealtimeLoopMocking.test_realtime_loop_structure)
Test real-time loop structure with mocked sleep ... ERROR
test_realtime_refresh_interval (test_realtime_features.TestRealtimeLoopMocking.test_realtime_refresh_interval)
Test that real-time uses correct refresh interval ... ok
test_time_sleep_mocking (test_realtime_features.TestRealtimeLoopMocking.test_time_sleep_mocking)
Test that time.sleep can be mocked for testing ... ok
test_container_content_updates (test_realtime_features.TestRealtimePlaceholderContainer.test_container_content_updates)
Test that container content can be updated ... ERROR
test_empty_container_creation (test_realtime_features.TestRealtimePlaceholderContainer.test_empty_container_creation)
Test that st.empty() creates a placeholder container ... ERROR
test_placeholder_context_manager (test_realtime_features.TestRealtimePlaceholderContainer.test_placeholder_context_manager)
Test that placeholder properly handles context management ... ERROR
test_realtime_display_structure (test_realtime_features.TestRealtimePlaceholderContainer.test_realtime_display_structure)
Test real-time display container structure ... ERROR
test_initialize_session_state_adds_realtime_variables (test_realtime_features.TestRealtimeSessionState.test_initialize_session_state_adds_realtime_variables)
Test that initialize_session_state adds real-time variables ... ERROR
test_initialize_session_state_preserves_existing_data (test_realtime_features.TestRealtimeSessionState.test_initialize_session_state_preserves_existing_data)
Test that existing data is preserved during initialization ... ERROR
test_initialize_session_state_removes_old_variables (test_realtime_features.TestRealtimeSessionState.test_initialize_session_state_removes_old_variables)
Test that old auto_refresh variables are removed ... ERROR
test_last_update_time_initialization (test_realtime_features.TestRealtimeSessionState.test_last_update_time_initialization)
Test that last_update_time is properly initialized ... ERROR
test_realtime_mode_default_state (test_realtime_features.TestRealtimeSessionState.test_realtime_mode_default_state)
Test that real-time mode is disabled by default ... ERROR
test_realtime_help_text_display (test_realtime_features.TestRealtimeToggle.test_realtime_help_text_display)
Test that appropriate help text is shown for real-time mode ... ERROR
test_realtime_mode_state_persistence (test_realtime_features.TestRealtimeToggle.test_realtime_mode_state_persistence)
Test that real-time mode state persists in session ... ERROR
test_realtime_toggle_in_sidebar (test_realtime_features.TestRealtimeToggle.test_realtime_toggle_in_sidebar)
Test that real-time toggle is present in sidebar ... ERROR
test_realtime_toggle_value_changes (test_realtime_features.TestRealtimeToggle.test_realtime_toggle_value_changes)
Test that toggle value changes are properly handled ... ERROR
test_caption_display (test_realtime_features.TestTimestampDisplay.test_caption_display)
Test timestamp display using st.caption ... ERROR
test_timestamp_format_accuracy (test_realtime_features.TestTimestampDisplay.test_timestamp_format_accuracy)
Test that timestamp displays in correct format ... ok
test_timestamp_in_both_modes (test_realtime_features.TestTimestampDisplay.test_timestamp_in_both_modes)
Test timestamp appears in both real-time and manual modes ... ERROR
test_timestamp_updates_on_refresh (test_realtime_features.TestTimestampDisplay.test_timestamp_updates_on_refresh)
Test that timestamp changes on each update ... ERROR
test_concurrent_refresh_requests (test_realtime_integration.TestConcurrentOperations.test_concurrent_refresh_requests)
Test handling of concurrent refresh requests ... ERROR
test_session_state_thread_safety (test_realtime_integration.TestConcurrentOperations.test_session_state_thread_safety)
Test session state thread safety ... ERROR
test_user_interaction_during_updates (test_realtime_integration.TestConcurrentOperations.test_user_interaction_during_updates)
Test that user can interact during updates ... ERROR
test_data_persistence_across_modes (test_realtime_integration.TestModeSwitching.test_data_persistence_across_modes)
Test that data persists when switching modes ... ERROR
test_manual_to_realtime_switch (test_realtime_integration.TestModeSwitching.test_manual_to_realtime_switch)
Test switching from manual to real-time mode ... ERROR
test_mode_switching_clears_placeholder (test_realtime_integration.TestModeSwitching.test_mode_switching_clears_placeholder)
Test that switching modes clears placeholder appropriately ... ERROR
test_realtime_to_manual_switch (test_realtime_integration.TestModeSwitching.test_realtime_to_manual_switch)
Test switching from real-time to manual mode ... ERROR
test_sidebar_updates_with_mode_switch (test_realtime_integration.TestModeSwitching.test_sidebar_updates_with_mode_switch)
Test that sidebar updates correctly with mode switches ... ERROR
test_connection_error_recovery (test_realtime_integration.TestRealtimeErrorHandling.test_connection_error_recovery)
Test recovery from connection errors ... ERROR
test_error_in_loop_continues_execution (test_realtime_integration.TestRealtimeErrorHandling.test_error_in_loop_continues_execution)
Test that errors in loop don't break real-time execution ... ERROR
test_session_state_corruption_recovery (test_realtime_integration.TestRealtimeErrorHandling.test_session_state_corruption_recovery)
Test recovery from session state corruption ... ERROR
test_ui_responsiveness_during_errors (test_realtime_integration.TestRealtimeErrorHandling.test_ui_responsiveness_during_errors)
Test that UI remains responsive during errors ... ERROR
test_full_realtime_cycle_success (test_realtime_integration.TestRealtimeRefreshCycle.test_full_realtime_cycle_success)
Test complete real-time refresh cycle with success ... ERROR
test_multiple_refresh_cycles (test_realtime_integration.TestRealtimeRefreshCycle.test_multiple_refresh_cycles)
Test multiple consecutive refresh cycles ... ERROR
test_realtime_cycle_with_api_error (test_realtime_integration.TestRealtimeRefreshCycle.test_realtime_cycle_with_api_error)
Test real-time cycle handling API errors ... ERROR
test_realtime_cycle_with_empty_data (test_realtime_integration.TestRealtimeRefreshCycle.test_realtime_cycle_with_empty_data)
Test real-time cycle with empty data response ... ERROR
test_charts_update_in_realtime (test_realtime_integration.TestUIResponsiveness.test_charts_update_in_realtime)
Test that charts update properly in real-time mode ... ERROR
test_metrics_update_during_realtime (test_realtime_integration.TestUIResponsiveness.test_metrics_update_during_realtime)
Test that metrics update correctly in real-time mode ... ERROR
test_timestamp_updates_visible (test_realtime_integration.TestUIResponsiveness.test_timestamp_updates_visible)
Test that timestamp updates are visible to user ... ERROR
test_ui_updates_without_freezing (test_realtime_integration.TestUIResponsiveness.test_ui_updates_without_freezing)
Test that UI updates without freezing during real-time mode ... ERROR
test_api_call_frequency_in_realtime (test_realtime_performance.TestAPIRateLimiting.test_api_call_frequency_in_realtime)
Test API call frequency in real-time mode ... ERROR
test_concurrent_api_calls_prevention (test_realtime_performance.TestAPIRateLimiting.test_concurrent_api_calls_prevention)
Test prevention of concurrent API calls ... ERROR
test_error_recovery_rate_limit (test_realtime_performance.TestAPIRateLimiting.test_error_recovery_rate_limit)
Test rate limiting after errors ... ERROR
test_refresh_interval_compliance (test_realtime_performance.TestAPIRateLimiting.test_refresh_interval_compliance)
Test that refresh intervals comply with rate limiting ... ERROR
test_extended_session_stability (test_realtime_performance.TestBrowserBehavior.test_extended_session_stability)
Test stability of extended browser sessions ... ERROR
test_memory_cleanup_on_tab_close (test_realtime_performance.TestBrowserBehavior.test_memory_cleanup_on_tab_close)
Test memory cleanup when tab is closed ... ERROR
test_tab_reconnection_handling (test_realtime_performance.TestBrowserBehavior.test_tab_reconnection_handling)
Test handling of tab reconnection after inactivity ... ERROR
test_visual_indicator_performance (test_realtime_performance.TestBrowserBehavior.test_visual_indicator_performance)
Test performance impact of real-time visual indicators ... ERROR
test_dataframe_memory_management (test_realtime_performance.TestMemoryUsage.test_dataframe_memory_management)
Test efficient DataFrame memory management ... ERROR
test_large_dataset_handling (test_realtime_performance.TestMemoryUsage.test_large_dataset_handling)
Test memory handling with large datasets ... ERROR
test_memory_cleanup_after_mode_switch (test_realtime_performance.TestMemoryUsage.test_memory_cleanup_after_mode_switch)
Test memory cleanup when switching between modes ... ERROR
test_memory_usage_stable_during_realtime (test_realtime_performance.TestMemoryUsage.test_memory_usage_stable_during_realtime)
Test that memory usage remains stable during extended real-time sessions ... ERROR
test_performance_alerts (test_realtime_performance.TestPerformanceMetrics.test_performance_alerts)
Test performance alerts generation ... ERROR
test_performance_metrics_collection (test_realtime_performance.TestPerformanceMetrics.test_performance_metrics_collection)
Test collection of performance metrics ... ERROR
test_performance_threshold_monitoring (test_realtime_performance.TestPerformanceMetrics.test_performance_threshold_monitoring)
Test monitoring of performance thresholds ... ERROR
test_concurrent_ui_operations (test_realtime_performance.TestUIResponsiveness.test_concurrent_ui_operations)
Test UI responsiveness during concurrent operations ... ERROR
test_interactive_elements_during_updates (test_realtime_performance.TestUIResponsiveness.test_interactive_elements_during_updates)
Test that interactive elements remain responsive during updates ... ERROR
test_large_data_rendering_performance (test_realtime_performance.TestUIResponsiveness.test_large_data_rendering_performance)
Test rendering performance with large datasets ... ERROR
test_ui_update_frequency (test_realtime_performance.TestUIResponsiveness.test_ui_update_frequency)
Test that UI updates at appropriate frequency ... ERROR
test_no_standard_library_packages (test_requirements.TestRequirements.test_no_standard_library_packages)
Test that no standard library packages are listed in requirements.txt. ... ok
test_required_packages_present (test_requirements.TestRequirements.test_required_packages_present)
Test that all critical packages are present in requirements.txt. ... ok
test_requirements_file_exists (test_requirements.TestRequirements.test_requirements_file_exists)
Test that requirements.txt exists in the project root. ... ok
test_requirements_file_format (test_requirements.TestRequirements.test_requirements_file_format)
Test that each line in requirements.txt follows proper pip format. ... FAIL
test_version_specifications (test_requirements.TestRequirements.test_version_specifications)
Test that all packages have version specifications. ... ok
test_disk_usage_for_vector_storage (test_search_performance.TestResourceUsage.test_disk_usage_for_vector_storage)
Test disk space usage for vector storage ... ERROR
test_batch_processing_performance (test_search_performance.TestSearchPerformance.test_batch_processing_performance)
Test performance of batch processing for document additions ... ERROR
test_cache_performance (test_search_performance.TestSearchPerformance.test_cache_performance)
Test performance impact of caching ... ERROR
test_concurrent_searches (test_search_performance.TestSearchPerformance.test_concurrent_searches)
Test performance with concurrent searches ... ERROR
test_embedding_generation_performance (test_search_performance.TestSearchPerformance.test_embedding_generation_performance)
Test embedding generation performance ... ERROR
test_memory_usage_during_operations (test_search_performance.TestSearchPerformance.test_memory_usage_during_operations)
Test memory usage during vector operations ... ERROR
test_model_loading_performance (test_search_performance.TestSearchPerformance.test_model_loading_performance)
Test model loading time ... ERROR
test_scalability_with_dataset_size (test_search_performance.TestSearchPerformance.test_scalability_with_dataset_size)
Test how performance scales with dataset size ... ERROR
test_search_response_time (test_search_performance.TestSearchPerformance.test_search_response_time)
Test search response time ... ERROR
test_caching_integration (test_semantic_search_integration.TestSemanticSearchIntegration.test_caching_integration)
Test that caching works properly with semantic search ... ok
test_error_handling_in_workflow (test_semantic_search_integration.TestSemanticSearchIntegration.test_error_handling_in_workflow)
Test error handling throughout the search workflow ... ok
test_full_search_workflow (test_semantic_search_integration.TestSemanticSearchIntegration.test_full_search_workflow)
Test complete semantic search workflow from setup to search ... ok
test_integration_with_real_data (test_semantic_search_integration.TestSemanticSearchIntegration.test_integration_with_real_data)
Test integration with real Hacker News data fetching ... FAIL

Stdout:
Using cached data: 10 stories
Setting up vector database for semantic search...
Processing 10 stories in 1 batches...
Processing batch 1/1 (10 stories)...
Vector database setup complete! Collection 'hn_stories' contains 10 stories
test_real_time_mode_compatibility (test_semantic_search_integration.TestSemanticSearchIntegration.test_real_time_mode_compatibility)
Test semantic search compatibility with real-time mode ... ok
test_search_result_accuracy (test_semantic_search_integration.TestSemanticSearchIntegration.test_search_result_accuracy)
Test accuracy of search results with known queries ... FAIL

Stdout:
Performing semantic search for: 'artificial intelligence machine learning'...
Found 1 relevant stories
test_search_with_filters (test_semantic_search_integration.TestSemanticSearchIntegration.test_search_with_filters)
Test semantic search with metadata filters ... ok
test_search_with_varied_query_types (test_semantic_search_integration.TestSemanticSearchIntegration.test_search_with_varied_query_types)
Test semantic search with different query types and lengths ... ok
test_ui_component_integration (test_semantic_search_integration.TestSemanticSearchIntegration.test_ui_component_integration)
Test integration with Streamlit UI components ... ERROR
test_document_addition_and_retrieval (test_semantic_search_integration.TestVectorSearchManagerIntegration.test_document_addition_and_retrieval)
Test adding documents and retrieving them ... ERROR
test_embedding_generation (test_semantic_search_integration.TestVectorSearchManagerIntegration.test_embedding_generation)
Test embedding generation with batch processing ... ok
test_manager_initialization (test_semantic_search_integration.TestVectorSearchManagerIntegration.test_manager_initialization)
Test VectorSearchManager initialization and lazy loading ... ERROR
test_search_functionality (test_semantic_search_integration.TestVectorSearchManagerIntegration.test_search_functionality)
Test search functionality ... ERROR
test_shap_explainer (unittest.loader._FailedTest.test_shap_explainer) ... ERROR
test_config_toml_exists (test_streamlit_config.TestStreamlitConfig.test_config_toml_exists)
Test that the config.toml file exists in the .streamlit directory. ... ok
test_config_toml_valid_syntax (test_streamlit_config.TestStreamlitConfig.test_config_toml_valid_syntax)
Test that config.toml has valid TOML syntax and can be parsed. ... ok
test_secrets_example_exists (test_streamlit_config.TestStreamlitConfig.test_secrets_example_exists)
Test that the secrets.toml.example file exists in the .streamlit directory. ... ok
test_secrets_toml_in_gitignore (test_streamlit_config.TestStreamlitConfig.test_secrets_toml_in_gitignore)
Test that secrets.toml pattern is in the .gitignore file. ... ok
test_streamlit_directory_exists (test_streamlit_config.TestStreamlitConfig.test_streamlit_directory_exists)
Test that the .streamlit directory exists in the project root. ... ok
test_semantic_search_no_collection (test_vector_search.TestSemanticSearch.test_semantic_search_no_collection)
Test semantic search with no collection. ... ok
test_semantic_search_short_query (test_vector_search.TestSemanticSearch.test_semantic_search_short_query)
Test semantic search with short query. ... ok
test_semantic_search_success (test_vector_search.TestSemanticSearch.test_semantic_search_success)
Test successful semantic search. ... ok
test_setup_vector_db_cached (test_vector_search.TestSetupVectorDB.test_setup_vector_db_cached)
Test setup using cached collection. ... ok
test_setup_vector_db_empty_df (test_vector_search.TestSetupVectorDB.test_setup_vector_db_empty_df)
Test setup with empty DataFrame. ... ok
test_setup_vector_db_force_rebuild (test_vector_search.TestSetupVectorDB.test_setup_vector_db_force_rebuild)
Test setup with force rebuild. ... ok
test_generate_data_hash (test_vector_search.TestVectorCacheManager.test_generate_data_hash)
Test data hash generation. ... ok
test_get_session_state_with_streamlit (test_vector_search.TestVectorCacheManager.test_get_session_state_with_streamlit)
Test getting session state with Streamlit available. ... ERROR
test_get_session_state_without_streamlit (test_vector_search.TestVectorCacheManager.test_get_session_state_without_streamlit)
Test getting session state without Streamlit. ... ERROR
test_is_cache_valid_expired (test_vector_search.TestVectorCacheManager.test_is_cache_valid_expired)
Test cache validation when expired. ... ok
test_is_cache_valid_no_cache (test_vector_search.TestVectorCacheManager.test_is_cache_valid_no_cache)
Test cache validation when no cache exists. ... ok
test_should_rebuild_collection (test_vector_search.TestVectorCacheManager.test_should_rebuild_collection)
Test determining if collection should be rebuilt. ... ok
test_add_documents_empty (test_vector_search.TestVectorSearchEngine.test_add_documents_empty)
Test adding empty documents list. ... ERROR
test_add_documents_success (test_vector_search.TestVectorSearchEngine.test_add_documents_success)
Test successful document addition. ... ERROR
test_clear_collection (test_vector_search.TestVectorSearchEngine.test_clear_collection)
Test clearing collection. ... ERROR
test_generate_embedding_hash (test_vector_search.TestVectorSearchEngine.test_generate_embedding_hash)
Test embedding hash generation. ... ERROR
test_generate_embeddings_empty_list (test_vector_search.TestVectorSearchEngine.test_generate_embeddings_empty_list)
Test generating embeddings for empty list. ... ok
test_generate_embeddings_success (test_vector_search.TestVectorSearchEngine.test_generate_embeddings_success)
Test successful embedding generation. ... ERROR
test_get_collection_info_not_initialized (test_vector_search.TestVectorSearchEngine.test_get_collection_info_not_initialized)
Test getting collection info when not initialized. ... ERROR
test_initialize_success (test_vector_search.TestVectorSearchEngine.test_initialize_success)
Test successful initialization. ... ERROR
test_search_short_query (test_vector_search.TestVectorSearchEngine.test_search_short_query)
Test search with too short query. ... ok
test_search_success (test_vector_search.TestVectorSearchEngine.test_search_success)
Test successful search. ... ERROR
test_add_documents_failure (test_vector_search_infrastructure.TestVectorSearchErrorHandling.test_add_documents_failure)
Test handling of add_documents failure ... ERROR
test_chroma_client_init_failure (test_vector_search_infrastructure.TestVectorSearchErrorHandling.test_chroma_client_init_failure)
Test handling of ChromaDB client initialization failure ... ok
test_embedding_model_load_failure (test_vector_search_infrastructure.TestVectorSearchErrorHandling.test_embedding_model_load_failure)
Test handling of embedding model load failure ... ok
test_generate_embeddings_failure (test_vector_search_infrastructure.TestVectorSearchErrorHandling.test_generate_embeddings_failure)
Test handling of embedding generation failure ... ok
test_search_failure (test_vector_search_infrastructure.TestVectorSearchErrorHandling.test_search_failure)
Test handling of search failure ... ERROR
test_add_documents (test_vector_search_infrastructure.TestVectorSearchManager.test_add_documents)
Test adding documents to vector store ... ERROR
test_add_documents_mismatched_lengths (test_vector_search_infrastructure.TestVectorSearchManager.test_add_documents_mismatched_lengths)
Test adding documents with mismatched document and ID lengths ... ERROR
test_chroma_client_lazy_loading (test_vector_search_infrastructure.TestVectorSearchManager.test_chroma_client_lazy_loading)
Test lazy loading of ChromaDB client ... ok
test_collection_creation (test_vector_search_infrastructure.TestVectorSearchManager.test_collection_creation)
Test ChromaDB collection creation ... ok
test_collection_retrieval_existing (test_vector_search_infrastructure.TestVectorSearchManager.test_collection_retrieval_existing)
Test retrieving existing ChromaDB collection ... ok
test_delete_collection (test_vector_search_infrastructure.TestVectorSearchManager.test_delete_collection)
Test deleting the collection ... ok
test_embedding_model_lazy_loading (test_vector_search_infrastructure.TestVectorSearchManager.test_embedding_model_lazy_loading)
Test lazy loading of embedding model ... ok
test_generate_embeddings (test_vector_search_infrastructure.TestVectorSearchManager.test_generate_embeddings)
Test embedding generation ... ok
test_generate_embeddings_empty_list (test_vector_search_infrastructure.TestVectorSearchManager.test_generate_embeddings_empty_list)
Test embedding generation with empty list ... ok
test_get_stats (test_vector_search_infrastructure.TestVectorSearchManager.test_get_stats)
Test getting vector store statistics ... ok
test_initialization (test_vector_search_infrastructure.TestVectorSearchManager.test_initialization)
Test VectorSearchManager initialization ... ok
test_search (test_vector_search_infrastructure.TestVectorSearchManager.test_search)
Test searching for similar documents ... ERROR
test_create_vector_search_manager (test_vector_search_infrastructure.TestVectorSearchUtilityFunctions.test_create_vector_search_manager)
Test create_vector_search_manager utility function ... ok
test_get_vector_engine (test_vector_search_infrastructure.TestVectorSearchUtilityFunctions.test_get_vector_engine)
Test get_vector_engine global instance function ... FAIL
test_verify_deployment_404_error (test_verify_deployment.TestVerifyDeployment.test_verify_deployment_404_error)
Test deployment verification with 404 error. ... ok
test_verify_deployment_500_error (test_verify_deployment.TestVerifyDeployment.test_verify_deployment_500_error)
Test deployment verification with 500 error. ... ok
test_verify_deployment_connection_error (test_verify_deployment.TestVerifyDeployment.test_verify_deployment_connection_error)
Test deployment verification with connection error. ... ok
test_verify_deployment_empty_url (test_verify_deployment.TestVerifyDeployment.test_verify_deployment_empty_url)
Test deployment verification with empty URL. ... ok
test_verify_deployment_generic_request_exception (test_verify_deployment.TestVerifyDeployment.test_verify_deployment_generic_request_exception)
Test deployment verification with generic request exception. ... ok
test_verify_deployment_invalid_url (test_verify_deployment.TestVerifyDeployment.test_verify_deployment_invalid_url)
Test deployment verification with invalid URL. ... ok
test_verify_deployment_redirect_success (test_verify_deployment.TestVerifyDeployment.test_verify_deployment_redirect_success)
Test deployment verification with redirect. ... ok
test_verify_deployment_success (test_verify_deployment.TestVerifyDeployment.test_verify_deployment_success)
Test successful deployment verification. ... ok
test_verify_deployment_timeout (test_verify_deployment.TestVerifyDeployment.test_verify_deployment_timeout)
Test deployment verification with timeout. ... ok

======================================================================
ERROR: phase7.test_multi_source (unittest.loader._FailedTest.phase7.test_multi_source)
----------------------------------------------------------------------
ImportError: Failed to import test module: phase7.test_multi_source
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 396, in _find_test_path
    module = self._get_module_from_name(name)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 339, in _get_module_from_name
    __import__(name)
    ~~~~~~~~~~^^^^^^
  File "/Users/dustinober/tech-pulse/test/phase7/test_multi_source.py", line 18, in <module>
    from phase7.source_connectors import (
    ...<4 lines>...
    )
ModuleNotFoundError: No module named 'phase7.source_connectors'


======================================================================
ERROR: phase7.test_predictor (unittest.loader._FailedTest.phase7.test_predictor)
----------------------------------------------------------------------
ImportError: Failed to import test module: phase7.test_predictor
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 396, in _find_test_path
    module = self._get_module_from_name(name)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 339, in _get_module_from_name
    __import__(name)
    ~~~~~~~~~~^^^^^^
  File "/Users/dustinober/tech-pulse/test/phase7/test_predictor.py", line 18, in <module>
    from phase7.predictive_analytics.predictor import (
    ...<3 lines>...
    )
ModuleNotFoundError: No module named 'phase7.predictive_analytics'


======================================================================
ERROR: phase7.test_user_management (unittest.loader._FailedTest.phase7.test_user_management)
----------------------------------------------------------------------
ImportError: Failed to import test module: phase7.test_user_management
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 396, in _find_test_path
    module = self._get_module_from_name(name)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 339, in _get_module_from_name
    __import__(name)
    ~~~~~~~~~~^^^^^^
  File "/Users/dustinober/tech-pulse/test/phase7/test_user_management.py", line 19, in <module>
    from phase7.user_management.database import UserDatabase
ModuleNotFoundError: No module named 'phase7.user_management'


======================================================================
ERROR: portfolio.test_config (unittest.loader._FailedTest.portfolio.test_config)
----------------------------------------------------------------------
ImportError: Failed to import test module: portfolio.test_config
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 396, in _find_test_path
    module = self._get_module_from_name(name)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 339, in _get_module_from_name
    __import__(name)
    ~~~~~~~~~~^^^^^^
ModuleNotFoundError: No module named 'portfolio.test_config'


======================================================================
ERROR: portfolio.test_experimentation (unittest.loader._FailedTest.portfolio.test_experimentation)
----------------------------------------------------------------------
ImportError: Failed to import test module: portfolio.test_experimentation
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 396, in _find_test_path
    module = self._get_module_from_name(name)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 339, in _get_module_from_name
    __import__(name)
    ~~~~~~~~~~^^^^^^
ModuleNotFoundError: No module named 'portfolio.test_experimentation'


======================================================================
ERROR: test_create_sidebar (test_dashboard.TestDashboardComponents.test_create_sidebar)
Test sidebar creation
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_dashboard.py", line 183, in test_create_sidebar
    app.create_sidebar()
    ~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 279, in create_sidebar
    openai_key = st.text_input(
                 ^^^^^^^^^^^^^
AttributeError: module 'streamlit' has no attribute 'text_input'

======================================================================
ERROR: test_initialize_session_state (test_dashboard.TestDashboardInitialization.test_initialize_session_state)
Test session state initialization
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_dashboard.py", line 114, in test_initialize_session_state
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_initialize_session_state_preserves_existing (test_dashboard.TestDashboardInitialization.test_initialize_session_state_preserves_existing)
Test that initialization preserves existing session state
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_dashboard.py", line 133, in test_initialize_session_state_preserves_existing
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_main_with_data (test_dashboard.TestDashboardMain.test_main_with_data)
Test main function with data present
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_dashboard.py", line 405, in test_main_with_data
    app.main()
    ~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 1037, in main
    tab1, tab2, tab3, tab4, tab5, tab6 = st.tabs([
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: not enough values to unpack (expected 6, got 0)

======================================================================
ERROR: test_main_without_data (test_dashboard.TestDashboardMain.test_main_without_data)
Test main function without data
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_dashboard.py", line 431, in test_main_without_data
    app.main()
    ~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 1037, in main
    tab1, tab2, tab3, tab4, tab5, tab6 = st.tabs([
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: not enough values to unpack (expected 6, got 0)

======================================================================
ERROR: test_interpretability_report (unittest.loader._FailedTest.test_interpretability_report)
----------------------------------------------------------------------
ImportError: Failed to import test module: test_interpretability_report
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 396, in _find_test_path
    module = self._get_module_from_name(name)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 339, in _get_module_from_name
    __import__(name)
    ~~~~~~~~~~^^^^^^
  File "/Users/dustinober/tech-pulse/test/test_interpretability_report.py", line 13, in <module>
    from src.interpretability.interpretability_report import InterpretabilityReport
  File "/Users/dustinober/tech-pulse/src/interpretability/interpretability_report.py", line 5, in <module>
    import matplotlib.pyplot as plt
ModuleNotFoundError: No module named 'matplotlib'


======================================================================
ERROR: test_lime_explainer (unittest.loader._FailedTest.test_lime_explainer)
----------------------------------------------------------------------
ImportError: Failed to import test module: test_lime_explainer
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 396, in _find_test_path
    module = self._get_module_from_name(name)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 339, in _get_module_from_name
    __import__(name)
    ~~~~~~~~~~^^^^^^
  File "/Users/dustinober/tech-pulse/test/test_lime_explainer.py", line 11, in <module>
    from src.interpretability.lime_explainer import LIMEExplainer
  File "/Users/dustinober/tech-pulse/src/interpretability/lime_explainer.py", line 5, in <module>
    import matplotlib.pyplot as plt
ModuleNotFoundError: No module named 'matplotlib'


======================================================================
ERROR: test_partial_dependence (unittest.loader._FailedTest.test_partial_dependence)
----------------------------------------------------------------------
ImportError: Failed to import test module: test_partial_dependence
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 396, in _find_test_path
    module = self._get_module_from_name(name)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 339, in _get_module_from_name
    __import__(name)
    ~~~~~~~~~~^^^^^^
  File "/Users/dustinober/tech-pulse/test/test_partial_dependence.py", line 11, in <module>
    from src.interpretability.partial_dependence import PartialDependencePlotter
  File "/Users/dustinober/tech-pulse/src/interpretability/partial_dependence.py", line 5, in <module>
    import matplotlib.pyplot as plt
ModuleNotFoundError: No module named 'matplotlib'


======================================================================
ERROR: test_placeholder_error_handling (test_realtime_features.TestRealtimeErrorHandling.test_placeholder_error_handling)
Test error handling with placeholder containers
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1423, in patched
    with self.decoration_helper(patched,
         ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
                                args,
                                ^^^^^
                                keywargs) as (newargs, newkeywargs):
                                ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1405, in decoration_helper
    arg = exit_stack.enter_context(patching)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 530, in enter_context
    result = _enter(cm)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1497, in __enter__
    original, local = self.get_original()
                      ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1467, in get_original
    raise AttributeError(
        "%s does not have the attribute %r" % (target, name)
    )
AttributeError: <module 'streamlit'> does not have the attribute 'empty'

======================================================================
ERROR: test_session_state_error_recovery (test_realtime_features.TestRealtimeErrorHandling.test_session_state_error_recovery)
Test recovery from session state errors
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_features.py", line 403, in test_session_state_error_recovery
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_realtime_loop_structure (test_realtime_features.TestRealtimeLoopMocking.test_realtime_loop_structure)
Test real-time loop structure with mocked sleep
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1423, in patched
    with self.decoration_helper(patched,
         ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
                                args,
                                ^^^^^
                                keywargs) as (newargs, newkeywargs):
                                ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1405, in decoration_helper
    arg = exit_stack.enter_context(patching)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 530, in enter_context
    result = _enter(cm)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1497, in __enter__
    original, local = self.get_original()
                      ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1467, in get_original
    raise AttributeError(
        "%s does not have the attribute %r" % (target, name)
    )
AttributeError: <module 'streamlit'> does not have the attribute 'empty'

======================================================================
ERROR: test_container_content_updates (test_realtime_features.TestRealtimePlaceholderContainer.test_container_content_updates)
Test that container content can be updated
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_features.py", line 250, in test_container_content_updates
    placeholder = app.st.empty()
                  ^^^^^^^^^^^^
AttributeError: module 'streamlit' has no attribute 'empty'

======================================================================
ERROR: test_empty_container_creation (test_realtime_features.TestRealtimePlaceholderContainer.test_empty_container_creation)
Test that st.empty() creates a placeholder container
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_features.py", line 225, in test_empty_container_creation
    placeholder = app.st.empty()
                  ^^^^^^^^^^^^
AttributeError: module 'streamlit' has no attribute 'empty'

======================================================================
ERROR: test_placeholder_context_manager (test_realtime_features.TestRealtimePlaceholderContainer.test_placeholder_context_manager)
Test that placeholder properly handles context management
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1423, in patched
    with self.decoration_helper(patched,
         ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
                                args,
                                ^^^^^
                                keywargs) as (newargs, newkeywargs):
                                ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1405, in decoration_helper
    arg = exit_stack.enter_context(patching)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 530, in enter_context
    result = _enter(cm)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1497, in __enter__
    original, local = self.get_original()
                      ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1467, in get_original
    raise AttributeError(
        "%s does not have the attribute %r" % (target, name)
    )
AttributeError: <module 'streamlit'> does not have the attribute 'empty'

======================================================================
ERROR: test_realtime_display_structure (test_realtime_features.TestRealtimePlaceholderContainer.test_realtime_display_structure)
Test real-time display container structure
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1423, in patched
    with self.decoration_helper(patched,
         ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
                                args,
                                ^^^^^
                                keywargs) as (newargs, newkeywargs):
                                ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1405, in decoration_helper
    arg = exit_stack.enter_context(patching)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 530, in enter_context
    result = _enter(cm)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1497, in __enter__
    original, local = self.get_original()
                      ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1467, in get_original
    raise AttributeError(
        "%s does not have the attribute %r" % (target, name)
    )
AttributeError: <module 'streamlit'> does not have the attribute 'empty'

======================================================================
ERROR: test_initialize_session_state_adds_realtime_variables (test_realtime_features.TestRealtimeSessionState.test_initialize_session_state_adds_realtime_variables)
Test that initialize_session_state adds real-time variables
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_features.py", line 93, in test_initialize_session_state_adds_realtime_variables
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_initialize_session_state_preserves_existing_data (test_realtime_features.TestRealtimeSessionState.test_initialize_session_state_preserves_existing_data)
Test that existing data is preserved during initialization
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_features.py", line 133, in test_initialize_session_state_preserves_existing_data
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_initialize_session_state_removes_old_variables (test_realtime_features.TestRealtimeSessionState.test_initialize_session_state_removes_old_variables)
Test that old auto_refresh variables are removed
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_features.py", line 116, in test_initialize_session_state_removes_old_variables
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_last_update_time_initialization (test_realtime_features.TestRealtimeSessionState.test_last_update_time_initialization)
Test that last_update_time is properly initialized
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_features.py", line 147, in test_last_update_time_initialization
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_realtime_mode_default_state (test_realtime_features.TestRealtimeSessionState.test_realtime_mode_default_state)
Test that real-time mode is disabled by default
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_features.py", line 142, in test_realtime_mode_default_state
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_realtime_help_text_display (test_realtime_features.TestRealtimeToggle.test_realtime_help_text_display)
Test that appropriate help text is shown for real-time mode
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_features.py", line 157, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_realtime_mode_state_persistence (test_realtime_features.TestRealtimeToggle.test_realtime_mode_state_persistence)
Test that real-time mode state persists in session
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_features.py", line 157, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_realtime_toggle_in_sidebar (test_realtime_features.TestRealtimeToggle.test_realtime_toggle_in_sidebar)
Test that real-time toggle is present in sidebar
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_features.py", line 157, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_realtime_toggle_value_changes (test_realtime_features.TestRealtimeToggle.test_realtime_toggle_value_changes)
Test that toggle value changes are properly handled
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_features.py", line 157, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_caption_display (test_realtime_features.TestTimestampDisplay.test_caption_display)
Test timestamp display using st.caption
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_features.py", line 290, in test_caption_display
    app.st.caption(f"Last Updated: {timestamp}")
    ^^^^^^^^^^^^^^
AttributeError: module 'streamlit' has no attribute 'caption'

======================================================================
ERROR: test_timestamp_in_both_modes (test_realtime_features.TestTimestampDisplay.test_timestamp_in_both_modes)
Test timestamp appears in both real-time and manual modes
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_features.py", line 323, in test_timestamp_in_both_modes
    app.st.caption("Last Updated: 12:00:00")
    ^^^^^^^^^^^^^^
AttributeError: module 'streamlit' has no attribute 'caption'

======================================================================
ERROR: test_timestamp_updates_on_refresh (test_realtime_features.TestTimestampDisplay.test_timestamp_updates_on_refresh)
Test that timestamp changes on each update
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_features.py", line 301, in test_timestamp_updates_on_refresh
    app.st.caption.reset_mock()
    ^^^^^^^^^^^^^^
AttributeError: module 'streamlit' has no attribute 'caption'

======================================================================
ERROR: test_concurrent_refresh_requests (test_realtime_integration.TestConcurrentOperations.test_concurrent_refresh_requests)
Test handling of concurrent refresh requests
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 511, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_session_state_thread_safety (test_realtime_integration.TestConcurrentOperations.test_session_state_thread_safety)
Test session state thread safety
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 511, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_user_interaction_during_updates (test_realtime_integration.TestConcurrentOperations.test_user_interaction_during_updates)
Test that user can interact during updates
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 511, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_data_persistence_across_modes (test_realtime_integration.TestModeSwitching.test_data_persistence_across_modes)
Test that data persists when switching modes
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 219, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_manual_to_realtime_switch (test_realtime_integration.TestModeSwitching.test_manual_to_realtime_switch)
Test switching from manual to real-time mode
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 219, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_mode_switching_clears_placeholder (test_realtime_integration.TestModeSwitching.test_mode_switching_clears_placeholder)
Test that switching modes clears placeholder appropriately
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 219, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_realtime_to_manual_switch (test_realtime_integration.TestModeSwitching.test_realtime_to_manual_switch)
Test switching from real-time to manual mode
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 219, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_sidebar_updates_with_mode_switch (test_realtime_integration.TestModeSwitching.test_sidebar_updates_with_mode_switch)
Test that sidebar updates correctly with mode switches
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 219, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_connection_error_recovery (test_realtime_integration.TestRealtimeErrorHandling.test_connection_error_recovery)
Test recovery from connection errors
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 315, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_error_in_loop_continues_execution (test_realtime_integration.TestRealtimeErrorHandling.test_error_in_loop_continues_execution)
Test that errors in loop don't break real-time execution
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 315, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_session_state_corruption_recovery (test_realtime_integration.TestRealtimeErrorHandling.test_session_state_corruption_recovery)
Test recovery from session state corruption
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 315, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_ui_responsiveness_during_errors (test_realtime_integration.TestRealtimeErrorHandling.test_ui_responsiveness_during_errors)
Test that UI remains responsive during errors
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 315, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_full_realtime_cycle_success (test_realtime_integration.TestRealtimeRefreshCycle.test_full_realtime_cycle_success)
Test complete real-time refresh cycle with success
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 89, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_multiple_refresh_cycles (test_realtime_integration.TestRealtimeRefreshCycle.test_multiple_refresh_cycles)
Test multiple consecutive refresh cycles
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 89, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_realtime_cycle_with_api_error (test_realtime_integration.TestRealtimeRefreshCycle.test_realtime_cycle_with_api_error)
Test real-time cycle handling API errors
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 89, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_realtime_cycle_with_empty_data (test_realtime_integration.TestRealtimeRefreshCycle.test_realtime_cycle_with_empty_data)
Test real-time cycle with empty data response
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 89, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_charts_update_in_realtime (test_realtime_integration.TestUIResponsiveness.test_charts_update_in_realtime)
Test that charts update properly in real-time mode
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 416, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_metrics_update_during_realtime (test_realtime_integration.TestUIResponsiveness.test_metrics_update_during_realtime)
Test that metrics update correctly in real-time mode
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 416, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_timestamp_updates_visible (test_realtime_integration.TestUIResponsiveness.test_timestamp_updates_visible)
Test that timestamp updates are visible to user
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 416, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_ui_updates_without_freezing (test_realtime_integration.TestUIResponsiveness.test_ui_updates_without_freezing)
Test that UI updates without freezing during real-time mode
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 416, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_api_call_frequency_in_realtime (test_realtime_performance.TestAPIRateLimiting.test_api_call_frequency_in_realtime)
Test API call frequency in real-time mode
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 243, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_concurrent_api_calls_prevention (test_realtime_performance.TestAPIRateLimiting.test_concurrent_api_calls_prevention)
Test prevention of concurrent API calls
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 243, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_error_recovery_rate_limit (test_realtime_performance.TestAPIRateLimiting.test_error_recovery_rate_limit)
Test rate limiting after errors
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 243, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_refresh_interval_compliance (test_realtime_performance.TestAPIRateLimiting.test_refresh_interval_compliance)
Test that refresh intervals comply with rate limiting
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 243, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_extended_session_stability (test_realtime_performance.TestBrowserBehavior.test_extended_session_stability)
Test stability of extended browser sessions
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 369, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_memory_cleanup_on_tab_close (test_realtime_performance.TestBrowserBehavior.test_memory_cleanup_on_tab_close)
Test memory cleanup when tab is closed
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 369, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_tab_reconnection_handling (test_realtime_performance.TestBrowserBehavior.test_tab_reconnection_handling)
Test handling of tab reconnection after inactivity
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 369, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_visual_indicator_performance (test_realtime_performance.TestBrowserBehavior.test_visual_indicator_performance)
Test performance impact of real-time visual indicators
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 369, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_dataframe_memory_management (test_realtime_performance.TestMemoryUsage.test_dataframe_memory_management)
Test efficient DataFrame memory management
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 94, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_large_dataset_handling (test_realtime_performance.TestMemoryUsage.test_large_dataset_handling)
Test memory handling with large datasets
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 94, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_memory_cleanup_after_mode_switch (test_realtime_performance.TestMemoryUsage.test_memory_cleanup_after_mode_switch)
Test memory cleanup when switching between modes
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 94, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_memory_usage_stable_during_realtime (test_realtime_performance.TestMemoryUsage.test_memory_usage_stable_during_realtime)
Test that memory usage remains stable during extended real-time sessions
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 94, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_performance_alerts (test_realtime_performance.TestPerformanceMetrics.test_performance_alerts)
Test performance alerts generation
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 606, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_performance_metrics_collection (test_realtime_performance.TestPerformanceMetrics.test_performance_metrics_collection)
Test collection of performance metrics
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 606, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_performance_threshold_monitoring (test_realtime_performance.TestPerformanceMetrics.test_performance_threshold_monitoring)
Test monitoring of performance thresholds
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 606, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_concurrent_ui_operations (test_realtime_performance.TestUIResponsiveness.test_concurrent_ui_operations)
Test UI responsiveness during concurrent operations
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 486, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_interactive_elements_during_updates (test_realtime_performance.TestUIResponsiveness.test_interactive_elements_during_updates)
Test that interactive elements remain responsive during updates
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 486, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_large_data_rendering_performance (test_realtime_performance.TestUIResponsiveness.test_large_data_rendering_performance)
Test rendering performance with large datasets
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 486, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_ui_update_frequency (test_realtime_performance.TestUIResponsiveness.test_ui_update_frequency)
Test that UI updates at appropriate frequency
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 486, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

======================================================================
ERROR: test_disk_usage_for_vector_storage (test_search_performance.TestResourceUsage.test_disk_usage_for_vector_storage)
Test disk space usage for vector storage
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1611, in __enter__
    setattr(self.target, self.attribute, new_attr)
    ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: property 'collection' of 'VectorSearchManager' object has no setter

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 503, in test_disk_usage_for_vector_storage
    with patch.object(manager, 'collection') as mock_collection:
         ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1624, in __enter__
    if not self.__exit__(*sys.exc_info()):
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1635, in __exit__
    delattr(self.target, self.attribute)
    ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: property 'collection' of 'VectorSearchManager' object has no deleter

======================================================================
ERROR: test_batch_processing_performance (test_search_performance.TestSearchPerformance.test_batch_processing_performance)
Test performance of batch processing for document additions
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 43, in setUp
    self.large_df = self._create_large_dataset(500)
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 53, in _create_large_dataset
    f"AI and machine learning advancement {i}",
                                           ^
UnboundLocalError: cannot access local variable 'i' where it is not associated with a value

======================================================================
ERROR: test_cache_performance (test_search_performance.TestSearchPerformance.test_cache_performance)
Test performance impact of caching
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 43, in setUp
    self.large_df = self._create_large_dataset(500)
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 53, in _create_large_dataset
    f"AI and machine learning advancement {i}",
                                           ^
UnboundLocalError: cannot access local variable 'i' where it is not associated with a value

======================================================================
ERROR: test_concurrent_searches (test_search_performance.TestSearchPerformance.test_concurrent_searches)
Test performance with concurrent searches
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 43, in setUp
    self.large_df = self._create_large_dataset(500)
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 53, in _create_large_dataset
    f"AI and machine learning advancement {i}",
                                           ^
UnboundLocalError: cannot access local variable 'i' where it is not associated with a value

======================================================================
ERROR: test_embedding_generation_performance (test_search_performance.TestSearchPerformance.test_embedding_generation_performance)
Test embedding generation performance
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 43, in setUp
    self.large_df = self._create_large_dataset(500)
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 53, in _create_large_dataset
    f"AI and machine learning advancement {i}",
                                           ^
UnboundLocalError: cannot access local variable 'i' where it is not associated with a value

======================================================================
ERROR: test_memory_usage_during_operations (test_search_performance.TestSearchPerformance.test_memory_usage_during_operations)
Test memory usage during vector operations
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 43, in setUp
    self.large_df = self._create_large_dataset(500)
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 53, in _create_large_dataset
    f"AI and machine learning advancement {i}",
                                           ^
UnboundLocalError: cannot access local variable 'i' where it is not associated with a value

======================================================================
ERROR: test_model_loading_performance (test_search_performance.TestSearchPerformance.test_model_loading_performance)
Test model loading time
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 43, in setUp
    self.large_df = self._create_large_dataset(500)
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 53, in _create_large_dataset
    f"AI and machine learning advancement {i}",
                                           ^
UnboundLocalError: cannot access local variable 'i' where it is not associated with a value

======================================================================
ERROR: test_scalability_with_dataset_size (test_search_performance.TestSearchPerformance.test_scalability_with_dataset_size)
Test how performance scales with dataset size
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 43, in setUp
    self.large_df = self._create_large_dataset(500)
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 53, in _create_large_dataset
    f"AI and machine learning advancement {i}",
                                           ^
UnboundLocalError: cannot access local variable 'i' where it is not associated with a value

======================================================================
ERROR: test_search_response_time (test_search_performance.TestSearchPerformance.test_search_response_time)
Test search response time
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 43, in setUp
    self.large_df = self._create_large_dataset(500)
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 53, in _create_large_dataset
    f"AI and machine learning advancement {i}",
                                           ^
UnboundLocalError: cannot access local variable 'i' where it is not associated with a value

======================================================================
ERROR: test_ui_component_integration (test_semantic_search_integration.TestSemanticSearchIntegration.test_ui_component_integration)
Test integration with Streamlit UI components
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1423, in patched
    with self.decoration_helper(patched,
         ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
                                args,
                                ^^^^^
                                keywargs) as (newargs, newkeywargs):
                                ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1405, in decoration_helper
    arg = exit_stack.enter_context(patching)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 530, in enter_context
    result = _enter(cm)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1497, in __enter__
    original, local = self.get_original()
                      ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1467, in get_original
    raise AttributeError(
        "%s does not have the attribute %r" % (target, name)
    )
AttributeError: <module 'streamlit'> does not have the attribute 'write'

======================================================================
ERROR: test_document_addition_and_retrieval (test_semantic_search_integration.TestVectorSearchManagerIntegration.test_document_addition_and_retrieval)
Test adding documents and retrieving them
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1611, in __enter__
    setattr(self.target, self.attribute, new_attr)
    ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: property 'collection' of 'VectorSearchManager' object has no setter

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_semantic_search_integration.py", line 499, in test_document_addition_and_retrieval
    with patch.object(test_manager, 'collection') as mock_collection:
         ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1624, in __enter__
    if not self.__exit__(*sys.exc_info()):
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1635, in __exit__
    delattr(self.target, self.attribute)
    ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: property 'collection' of 'VectorSearchManager' object has no deleter

======================================================================
ERROR: test_manager_initialization (test_semantic_search_integration.TestVectorSearchManagerIntegration.test_manager_initialization)
Test VectorSearchManager initialization and lazy loading
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_semantic_search_integration.py", line 452, in test_manager_initialization
    _ = self.test_manager.embedding_model
        ^^^^^^^^^^^^^^^^^
AttributeError: 'TestVectorSearchManagerIntegration' object has no attribute 'test_manager'

======================================================================
ERROR: test_search_functionality (test_semantic_search_integration.TestVectorSearchManagerIntegration.test_search_functionality)
Test search functionality
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1611, in __enter__
    setattr(self.target, self.attribute, new_attr)
    ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: property 'collection' of 'VectorSearchManager' object has no setter

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_semantic_search_integration.py", line 525, in test_search_functionality
    with patch.object(test_manager, 'collection') as mock_collection:
         ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1624, in __enter__
    if not self.__exit__(*sys.exc_info()):
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1635, in __exit__
    delattr(self.target, self.attribute)
    ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: property 'collection' of 'VectorSearchManager' object has no deleter

======================================================================
ERROR: test_shap_explainer (unittest.loader._FailedTest.test_shap_explainer)
----------------------------------------------------------------------
ImportError: Failed to import test module: test_shap_explainer
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 396, in _find_test_path
    module = self._get_module_from_name(name)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 339, in _get_module_from_name
    __import__(name)
    ~~~~~~~~~~^^^^^^
  File "/Users/dustinober/tech-pulse/test/test_shap_explainer.py", line 11, in <module>
    from src.interpretability.shap_explainer import SHAPExplainer
  File "/Users/dustinober/tech-pulse/src/interpretability/shap_explainer.py", line 5, in <module>
    import matplotlib.pyplot as plt
ModuleNotFoundError: No module named 'matplotlib'


======================================================================
ERROR: test_get_session_state_with_streamlit (test_vector_search.TestVectorCacheManager.test_get_session_state_with_streamlit)
Test getting session state with Streamlit available.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1423, in patched
    with self.decoration_helper(patched,
         ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
                                args,
                                ^^^^^
                                keywargs) as (newargs, newkeywargs):
                                ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1405, in decoration_helper
    arg = exit_stack.enter_context(patching)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 530, in enter_context
    result = _enter(cm)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1497, in __enter__
    original, local = self.get_original()
                      ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1467, in get_original
    raise AttributeError(
        "%s does not have the attribute %r" % (target, name)
    )
AttributeError: <module 'vector_cache_manager' from '/Users/dustinober/tech-pulse/vector_cache_manager.py'> does not have the attribute 'st'

======================================================================
ERROR: test_get_session_state_without_streamlit (test_vector_search.TestVectorCacheManager.test_get_session_state_without_streamlit)
Test getting session state without Streamlit.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1423, in patched
    with self.decoration_helper(patched,
         ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
                                args,
                                ^^^^^
                                keywargs) as (newargs, newkeywargs):
                                ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1405, in decoration_helper
    arg = exit_stack.enter_context(patching)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 530, in enter_context
    result = _enter(cm)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1497, in __enter__
    original, local = self.get_original()
                      ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1467, in get_original
    raise AttributeError(
        "%s does not have the attribute %r" % (target, name)
    )
AttributeError: <module 'vector_cache_manager' from '/Users/dustinober/tech-pulse/vector_cache_manager.py'> does not have the attribute 'st'

======================================================================
ERROR: test_add_documents_empty (test_vector_search.TestVectorSearchEngine.test_add_documents_empty)
Test adding empty documents list.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_vector_search.py", line 109, in test_add_documents_empty
    self.engine.collection = Mock()
    ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: property 'collection' of 'VectorSearchManager' object has no setter

======================================================================
ERROR: test_add_documents_success (test_vector_search.TestVectorSearchEngine.test_add_documents_success)
Test successful document addition.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_vector_search.py", line 121, in test_add_documents_success
    self.engine.collection = Mock()
    ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: property 'collection' of 'VectorSearchManager' object has no setter

======================================================================
ERROR: test_clear_collection (test_vector_search.TestVectorSearchEngine.test_clear_collection)
Test clearing collection.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_vector_search.py", line 184, in test_clear_collection
    self.engine.collection = Mock()
    ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: property 'collection' of 'VectorSearchManager' object has no setter

======================================================================
ERROR: test_generate_embedding_hash (test_vector_search.TestVectorSearchEngine.test_generate_embedding_hash)
Test embedding hash generation.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_vector_search.py", line 58, in test_generate_embedding_hash
    hash1 = self.engine.generate_embedding_hash(texts)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'VectorSearchManager' object has no attribute 'generate_embedding_hash'. Did you mean: 'generate_embeddings'?

======================================================================
ERROR: test_generate_embeddings_success (test_vector_search.TestVectorSearchEngine.test_generate_embeddings_success)
Test successful embedding generation.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/huggingface_hub/utils/_http.py", line 402, in hf_raise_for_status
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/requests/models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://huggingface.co/sentence-transformers/test-model/resolve/main/adapter_config.json

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/transformers/utils/hub.py", line 479, in cached_files
    hf_hub_download(
    ~~~~~~~~~~~~~~~^
        path_or_repo_id,
        ^^^^^^^^^^^^^^^^
    ...<10 lines>...
        local_files_only=local_files_only,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/huggingface_hub/utils/_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/huggingface_hub/file_download.py", line 1007, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
        # Destination
    ...<14 lines>...
        force_download=force_download,
    )
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/huggingface_hub/file_download.py", line 1114, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/huggingface_hub/file_download.py", line 1655, in _raise_on_head_call_error
    raise head_call_error
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/huggingface_hub/file_download.py", line 1543, in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
        url=url, proxies=proxies, timeout=etag_timeout, headers=headers, token=token, endpoint=endpoint
    )
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/huggingface_hub/utils/_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/huggingface_hub/file_download.py", line 1460, in get_hf_file_metadata
    r = _request_wrapper(
        method="HEAD",
    ...<5 lines>...
        timeout=timeout,
    )
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/huggingface_hub/file_download.py", line 283, in _request_wrapper
    response = _request_wrapper(
        method=method,
    ...<2 lines>...
        **params,
    )
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/huggingface_hub/file_download.py", line 307, in _request_wrapper
    hf_raise_for_status(response)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/huggingface_hub/utils/_http.py", line 452, in hf_raise_for_status
    raise _format(RepositoryNotFoundError, message, response) from e
huggingface_hub.errors.RepositoryNotFoundError: 401 Client Error. (Request ID: Root=1-69363bd0-3d64818b48f70e6b71aadd50;cf6c3f31-6a5d-4a7a-a1b1-887c582cddb3)

Repository Not Found for url: https://huggingface.co/sentence-transformers/test-model/resolve/main/adapter_config.json.
Please make sure you specified the correct `repo_id` and `repo_type`.
If you are trying to access a private or gated repo, make sure you are authenticated. For more details, see https://huggingface.co/docs/huggingface_hub/authentication
Invalid username or password.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/vector_search.py", line 117, in embedding_model
    self._embedding_model = SentenceTransformer(self.model_name, device=self.device)
                            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/sentence_transformers/SentenceTransformer.py", line 339, in __init__
    modules = self._load_auto_model(
        model_name_or_path,
    ...<8 lines>...
        has_modules=has_modules,
    )
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/sentence_transformers/SentenceTransformer.py", line 2112, in _load_auto_model
    transformer_model = Transformer(
        model_name_or_path,
    ...<4 lines>...
        backend=self.backend,
    )
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/sentence_transformers/models/Transformer.py", line 87, in __init__
    config, is_peft_model = self._load_config(model_name_or_path, cache_dir, backend, config_args)
                            ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/sentence_transformers/models/Transformer.py", line 138, in _load_config
    find_adapter_config_file(
    ~~~~~~~~~~~~~~~~~~~~~~~~^
        model_name_or_path,
        ^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
        local_files_only=config_args.get("local_files_only", False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/transformers/utils/peft_utils.py", line 88, in find_adapter_config_file
    adapter_cached_filename = cached_file(
        model_id,
    ...<12 lines>...
        _raise_exceptions_for_connection_errors=False,
    )
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/transformers/utils/hub.py", line 322, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/transformers/utils/hub.py", line 511, in cached_files
    raise OSError(
    ...<4 lines>...
    ) from e
OSError: sentence-transformers/test-model is not a local folder and is not a valid model identifier listed on 'https://huggingface.co/models'
If this is a private repository, make sure to pass a token having permission to this repo either by logging in with `hf auth login` or by passing `token=<your_token>`

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/vector_search.py", line 232, in generate_embeddings
    embeddings = self.embedding_model.encode(
                 ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dustinober/tech-pulse/vector_search.py", line 130, in embedding_model
    raise RuntimeError(f"Could not load embedding model {self.model_name}: {str(e)}")
RuntimeError: Could not load embedding model test-model: sentence-transformers/test-model is not a local folder and is not a valid model identifier listed on 'https://huggingface.co/models'
If this is a private repository, make sure to pass a token having permission to this repo either by logging in with `hf auth login` or by passing `token=<your_token>`

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_vector_search.py", line 99, in test_generate_embeddings_success
    result = self.engine.generate_embeddings(texts)
  File "/Users/dustinober/tech-pulse/vector_search.py", line 243, in generate_embeddings
    raise RuntimeError(f"Embedding generation failed: {str(e)}")
RuntimeError: Embedding generation failed: Could not load embedding model test-model: sentence-transformers/test-model is not a local folder and is not a valid model identifier listed on 'https://huggingface.co/models'
If this is a private repository, make sure to pass a token having permission to this repo either by logging in with `hf auth login` or by passing `token=<your_token>`

Stderr:
Loading embedding model:   0%|          | 0/100 [00:00<?, ?%/s]Downloading test-model:   0%|          | 0/100 [00:00<?, ?%/s] Downloading test-model:   0%|          | 0/100 [00:00<?, ?%/s]

======================================================================
ERROR: test_get_collection_info_not_initialized (test_vector_search.TestVectorSearchEngine.test_get_collection_info_not_initialized)
Test getting collection info when not initialized.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_vector_search.py", line 173, in test_get_collection_info_not_initialized
    self.assertFalse(info['initialized'])
                     ~~~~^^^^^^^^^^^^^^^
KeyError: 'initialized'

======================================================================
ERROR: test_initialize_success (test_vector_search.TestVectorSearchEngine.test_initialize_success)
Test successful initialization.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_vector_search.py", line 51, in test_initialize_success
    self.assertTrue(self.engine._initialized)
                    ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'VectorSearchManager' object has no attribute '_initialized'. Did you mean: 'initialize'?

Stderr:
Loading embedding model:   0%|          | 0/100 [00:00<?, ?%/s]Downloading test-model:   0%|          | 0/100 [00:00<?, ?%/s] Initializing model:  50%|#####     | 50/100 [00:00<00:00, 1219274.42%/s]Initializing model: 100%|##########| 100/100 [00:00<00:00, 838860.80%/s]

======================================================================
ERROR: test_search_success (test_vector_search.TestVectorSearchEngine.test_search_success)
Test successful search.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_vector_search.py", line 157, in test_search_success
    self.engine.collection = Mock()
    ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: property 'collection' of 'VectorSearchManager' object has no setter

======================================================================
ERROR: test_add_documents_failure (test_vector_search_infrastructure.TestVectorSearchErrorHandling.test_add_documents_failure)
Test handling of add_documents failure
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_vector_search_infrastructure.py", line 475, in test_add_documents_failure
    result = self.manager.add_documents(["doc1"], ["id1"])
TypeError: VectorSearchManager.add_documents() takes 2 positional arguments but 3 were given

======================================================================
ERROR: test_search_failure (test_vector_search_infrastructure.TestVectorSearchErrorHandling.test_search_failure)
Test handling of search failure
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_vector_search_infrastructure.py", line 494, in test_search_failure
    self.assertEqual(result['results'], [])
                     ~~~~~~^^^^^^^^^^^
TypeError: list indices must be integers or slices, not str

======================================================================
ERROR: test_add_documents (test_vector_search_infrastructure.TestVectorSearchManager.test_add_documents)
Test adding documents to vector store
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_vector_search_infrastructure.py", line 221, in test_add_documents
    result = self.manager.add_documents(documents, ids, metadata)
TypeError: VectorSearchManager.add_documents() takes 2 positional arguments but 4 were given

======================================================================
ERROR: test_add_documents_mismatched_lengths (test_vector_search_infrastructure.TestVectorSearchManager.test_add_documents_mismatched_lengths)
Test adding documents with mismatched document and ID lengths
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_vector_search_infrastructure.py", line 241, in test_add_documents_mismatched_lengths
    self.manager.add_documents(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        documents=["Doc 1", "Doc 2"],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        ids=["doc1"]  # Only one ID
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
TypeError: VectorSearchManager.add_documents() got an unexpected keyword argument 'ids'

======================================================================
ERROR: test_search (test_vector_search_infrastructure.TestVectorSearchManager.test_search)
Test searching for similar documents
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_vector_search_infrastructure.py", line 292, in test_search
    self.assertEqual(result['query'], query)
                     ~~~~~~^^^^^^^^^
TypeError: list indices must be integers or slices, not str

Stderr:
--- Logging error ---
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/logging/__init__.py", line 1154, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
BrokenPipeError: [Errno 32] Broken pipe
Call stack:
  File "/Users/dustinober/tech-pulse/test/run_tests.py", line 209, in <module>
    exit_code = main()
  File "/Users/dustinober/tech-pulse/test/run_tests.py", line 184, in main
    result, stdout_output, stderr_output = run_tests()
  File "/Users/dustinober/tech-pulse/test/run_tests.py", line 35, in run_tests
    result = runner.run(suite)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/runner.py", line 240, in run
    test(result)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 84, in __call__
    return self.run(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 122, in run
    test(result)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 84, in __call__
    return self.run(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 122, in run
    test(result)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 84, in __call__
    return self.run(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 122, in run
    test(result)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/case.py", line 707, in __call__
    return self.run(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/case.py", line 647, in run
    self._callSetUp()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/case.py", line 603, in _callSetUp
    self.setUp()
  File "/Users/dustinober/tech-pulse/test/test_vector_search_infrastructure.py", line 32, in setUp
    self.manager = VectorSearchManager(
  File "/Users/dustinober/tech-pulse/vector_search.py", line 99, in __init__
    self.logger.info(f"VectorSearchManager initialized with model: {model_name}")
Message: 'VectorSearchManager initialized with model: test-model'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/logging/__init__.py", line 1154, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
BrokenPipeError: [Errno 32] Broken pipe
Call stack:
  File "/Users/dustinober/tech-pulse/test/run_tests.py", line 209, in <module>
    exit_code = main()
  File "/Users/dustinober/tech-pulse/test/run_tests.py", line 184, in main
    result, stdout_output, stderr_output = run_tests()
  File "/Users/dustinober/tech-pulse/test/run_tests.py", line 35, in run_tests
    result = runner.run(suite)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/runner.py", line 240, in run
    test(result)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 84, in __call__
    return self.run(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 122, in run
    test(result)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 84, in __call__
    return self.run(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 122, in run
    test(result)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 84, in __call__
    return self.run(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 122, in run
    test(result)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/case.py", line 707, in __call__
    return self.run(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/case.py", line 651, in run
    self._callTestMethod(testMethod)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/case.py", line 606, in _callTestMethod
    if method() is not None:
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_vector_search_infrastructure.py", line 277, in test_search
    result = self.manager.search(query, n_results=5)
  File "/Users/dustinober/tech-pulse/vector_search.py", line 325, in search
    self.logger.info(f"Search returned {len(formatted_results)} results")
Message: 'Search returned 2 results'
Arguments: ()

======================================================================
FAIL: test_git_clean (test_deployment_ready.TestDeploymentReady.test_git_clean)
Test 10: Run 'git status --porcelain' and verify no uncommitted changes.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_deployment_ready.py", line 261, in test_git_clean
    self.assertEqual(
    ~~~~~~~~~~~~~~~~^
        len(problematic_changes), 0,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        "\n\nPlease commit or stash these changes before deployment."
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
AssertionError: 3 != 0 : Git working directory has uncommitted changes:
M chroma_db/chroma.sqlite3
 M test/run_tests.py
?? chroma_db/645d8a69-6bbe-4f13-98e3-561c001298e2/

Please commit or stash these changes before deployment.

======================================================================
FAIL: test_requirements_file_format (test_requirements.TestRequirements.test_requirements_file_format)
Test that each line in requirements.txt follows proper pip format.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_requirements.py", line 133, in test_requirements_file_format
    self.assertEqual(
    ~~~~~~~~~~~~~~~~^
        len(errors), 0,
        ^^^^^^^^^^^^^^^
        f"requirements.txt has formatting issues:\n" + "\n".join(errors)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
AssertionError: 10 != 0 : requirements.txt has formatting issues:
Line 13: Blank line found - ''
Line 14: Comment line found - '# Phase 7.3: Multi-Source Integration Dependencies'
Line 20: Blank line found - ''
Line 21: Comment line found - '# Phase 8: Executive Briefing PDF Generation Dependencies'
Line 26: Blank line found - ''
Line 27: Comment line found - '# Phase 9: Advanced Analytics & Intelligence Dependencies'
Line 44: Blank line found - ''
Line 45: Comment line found - '# Phase 10: Automation & Deployment Dependencies'
Line 53: Blank line found - ''
Line 54: Comment line found - '# Portfolio Enhancement Dependencies'

======================================================================
FAIL: test_integration_with_real_data (test_semantic_search_integration.TestSemanticSearchIntegration.test_integration_with_real_data)
Test integration with real Hacker News data fetching
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_semantic_search_integration.py", line 209, in test_integration_with_real_data
    mock_fetch.assert_called_once_with(limit=10)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 990, in assert_called_once_with
    raise AssertionError(msg)
AssertionError: Expected 'fetch_hn_data' to be called once. Called 0 times.

Stdout:
Using cached data: 10 stories
Setting up vector database for semantic search...
Processing 10 stories in 1 batches...
Processing batch 1/1 (10 stories)...
Vector database setup complete! Collection 'hn_stories' contains 10 stories

Stderr:
Loading embedding model:   0%|          | 0/100 [00:00<?, ?%/s]Downloading all-MiniLM-L6-v2:   0%|          | 0/100 [00:00<?, ?%/s]Downloading all-MiniLM-L6-v2:  50%|#####     | 50/100 [00:00<00:00, 80.45%/s]Initializing model:  50%|#####     | 50/100 [00:00<00:00, 80.45%/s]          Initializing model: 100%|##########| 100/100 [00:00<00:00, 140.63%/s]

======================================================================
FAIL: test_search_result_accuracy (test_semantic_search_integration.TestSemanticSearchIntegration.test_search_result_accuracy)
Test accuracy of search results with known queries
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_semantic_search_integration.py", line 402, in test_search_result_accuracy
    self.assertGreaterEqual(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        result['similarity_score'],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        test_case['min_similarity'],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        f"Result similarity too low: {result['similarity_score']}"
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
AssertionError: 0.65 not greater than or equal to 0.7 : Result similarity too low: 0.65

Stdout:
Performing semantic search for: 'artificial intelligence machine learning'...
Found 1 relevant stories

======================================================================
FAIL: test_get_vector_engine (test_vector_search_infrastructure.TestVectorSearchUtilityFunctions.test_get_vector_engine)
Test get_vector_engine global instance function
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_vector_search_infrastructure.py", line 394, in test_get_vector_engine
    mock_manager_class.assert_called_once_with(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        collection_name="test-collection",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        model_name="test-model"
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 990, in assert_called_once_with
    raise AssertionError(msg)
AssertionError: Expected 'VectorSearchManager' to be called once. Called 0 times.

----------------------------------------------------------------------
Ran 276 tests in 1.829s

FAILED (failures=5, errors=100, skipped=13)

----------------------------------------

ERROR OUTPUT:
----------------------------------------

Stderr:
Loading embedding model:   0%|          | 0/100 [00:00<?, ?%/s]Downloading all-MiniLM-L6-v2:   0%|          | 0/100 [00:00<?, ?%/s]Downloading all-MiniLM-L6-v2:  50%|#####     | 50/100 [00:00<00:00, 80.45%/s]Initializing model:  50%|#####     | 50/100 [00:00<00:00, 80.45%/s]          Initializing model: 100%|##########| 100/100 [00:00<00:00, 140.63%/s]

Stderr:
Loading embedding model:   0%|          | 0/100 [00:00<?, ?%/s]Downloading test-model:   0%|          | 0/100 [00:00<?, ?%/s] Downloading test-model:   0%|          | 0/100 [00:00<?, ?%/s]

Stderr:
Loading embedding model:   0%|          | 0/100 [00:00<?, ?%/s]Downloading test-model:   0%|          | 0/100 [00:00<?, ?%/s] Initializing model:  50%|#####     | 50/100 [00:00<00:00, 1219274.42%/s]Initializing model: 100%|##########| 100/100 [00:00<00:00, 838860.80%/s]

Stderr:
--- Logging error ---
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/logging/__init__.py", line 1154, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
BrokenPipeError: [Errno 32] Broken pipe
Call stack:
  File "/Users/dustinober/tech-pulse/test/run_tests.py", line 209, in <module>
    exit_code = main()
  File "/Users/dustinober/tech-pulse/test/run_tests.py", line 184, in main
    result, stdout_output, stderr_output = run_tests()
  File "/Users/dustinober/tech-pulse/test/run_tests.py", line 35, in run_tests
    result = runner.run(suite)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/runner.py", line 240, in run
    test(result)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 84, in __call__
    return self.run(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 122, in run
    test(result)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 84, in __call__
    return self.run(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 122, in run
    test(result)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 84, in __call__
    return self.run(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 122, in run
    test(result)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/case.py", line 707, in __call__
    return self.run(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/case.py", line 647, in run
    self._callSetUp()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/case.py", line 603, in _callSetUp
    self.setUp()
  File "/Users/dustinober/tech-pulse/test/test_vector_search_infrastructure.py", line 32, in setUp
    self.manager = VectorSearchManager(
  File "/Users/dustinober/tech-pulse/vector_search.py", line 99, in __init__
    self.logger.info(f"VectorSearchManager initialized with model: {model_name}")
Message: 'VectorSearchManager initialized with model: test-model'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/logging/__init__.py", line 1154, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
BrokenPipeError: [Errno 32] Broken pipe
Call stack:
  File "/Users/dustinober/tech-pulse/test/run_tests.py", line 209, in <module>
    exit_code = main()
  File "/Users/dustinober/tech-pulse/test/run_tests.py", line 184, in main
    result, stdout_output, stderr_output = run_tests()
  File "/Users/dustinober/tech-pulse/test/run_tests.py", line 35, in run_tests
    result = runner.run(suite)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/runner.py", line 240, in run
    test(result)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 84, in __call__
    return self.run(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 122, in run
    test(result)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 84, in __call__
    return self.run(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 122, in run
    test(result)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 84, in __call__
    return self.run(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 122, in run
    test(result)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/case.py", line 707, in __call__
    return self.run(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/case.py", line 651, in run
    self._callTestMethod(testMethod)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/case.py", line 606, in _callTestMethod
    if method() is not None:
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_vector_search_infrastructure.py", line 277, in test_search
    result = self.manager.search(query, n_results=5)
  File "/Users/dustinober/tech-pulse/vector_search.py", line 325, in search
    self.logger.info(f"Search returned {len(formatted_results)} results")
Message: 'Search returned 2 results'
Arguments: ()

----------------------------------------

FAILURES:
----------------------------------------
FAIL: test_git_clean (test_deployment_ready.TestDeploymentReady.test_git_clean)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_deployment_ready.py", line 261, in test_git_clean
    self.assertEqual(
    ~~~~~~~~~~~~~~~~^
        len(problematic_changes), 0,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        "\n\nPlease commit or stash these changes before deployment."
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
AssertionError: 3 != 0 : Git working directory has uncommitted changes:
M chroma_db/chroma.sqlite3
 M test/run_tests.py
?? chroma_db/645d8a69-6bbe-4f13-98e3-561c001298e2/

Please commit or stash these changes before deployment.

----------------------------------------
FAIL: test_requirements_file_format (test_requirements.TestRequirements.test_requirements_file_format)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_requirements.py", line 133, in test_requirements_file_format
    self.assertEqual(
    ~~~~~~~~~~~~~~~~^
        len(errors), 0,
        ^^^^^^^^^^^^^^^
        f"requirements.txt has formatting issues:\n" + "\n".join(errors)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
AssertionError: 10 != 0 : requirements.txt has formatting issues:
Line 13: Blank line found - ''
Line 14: Comment line found - '# Phase 7.3: Multi-Source Integration Dependencies'
Line 20: Blank line found - ''
Line 21: Comment line found - '# Phase 8: Executive Briefing PDF Generation Dependencies'
Line 26: Blank line found - ''
Line 27: Comment line found - '# Phase 9: Advanced Analytics & Intelligence Dependencies'
Line 44: Blank line found - ''
Line 45: Comment line found - '# Phase 10: Automation & Deployment Dependencies'
Line 53: Blank line found - ''
Line 54: Comment line found - '# Portfolio Enhancement Dependencies'

----------------------------------------
FAIL: test_integration_with_real_data (test_semantic_search_integration.TestSemanticSearchIntegration.test_integration_with_real_data)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_semantic_search_integration.py", line 209, in test_integration_with_real_data
    mock_fetch.assert_called_once_with(limit=10)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 990, in assert_called_once_with
    raise AssertionError(msg)
AssertionError: Expected 'fetch_hn_data' to be called once. Called 0 times.

Stdout:
Using cached data: 10 stories
Setting up vector database for semantic search...
Processing 10 stories in 1 batches...
Processing batch 1/1 (10 stories)...
Vector database setup complete! Collection 'hn_stories' contains 10 stories

Stderr:
Loading embedding model:   0%|          | 0/100 [00:00<?, ?%/s]Downloading all-MiniLM-L6-v2:   0%|          | 0/100 [00:00<?, ?%/s]Downloading all-MiniLM-L6-v2:  50%|#####     | 50/100 [00:00<00:00, 80.45%/s]Initializing model:  50%|#####     | 50/100 [00:00<00:00, 80.45%/s]          Initializing model: 100%|##########| 100/100 [00:00<00:00, 140.63%/s]

----------------------------------------
FAIL: test_search_result_accuracy (test_semantic_search_integration.TestSemanticSearchIntegration.test_search_result_accuracy)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_semantic_search_integration.py", line 402, in test_search_result_accuracy
    self.assertGreaterEqual(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        result['similarity_score'],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        test_case['min_similarity'],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        f"Result similarity too low: {result['similarity_score']}"
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
AssertionError: 0.65 not greater than or equal to 0.7 : Result similarity too low: 0.65

Stdout:
Performing semantic search for: 'artificial intelligence machine learning'...
Found 1 relevant stories

----------------------------------------
FAIL: test_get_vector_engine (test_vector_search_infrastructure.TestVectorSearchUtilityFunctions.test_get_vector_engine)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_vector_search_infrastructure.py", line 394, in test_get_vector_engine
    mock_manager_class.assert_called_once_with(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        collection_name="test-collection",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        model_name="test-model"
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 990, in assert_called_once_with
    raise AssertionError(msg)
AssertionError: Expected 'VectorSearchManager' to be called once. Called 0 times.

----------------------------------------

ERRORS:
----------------------------------------
ERROR: phase7.test_multi_source (unittest.loader._FailedTest.phase7.test_multi_source)
ImportError: Failed to import test module: phase7.test_multi_source
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 396, in _find_test_path
    module = self._get_module_from_name(name)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 339, in _get_module_from_name
    __import__(name)
    ~~~~~~~~~~^^^^^^
  File "/Users/dustinober/tech-pulse/test/phase7/test_multi_source.py", line 18, in <module>
    from phase7.source_connectors import (
    ...<4 lines>...
    )
ModuleNotFoundError: No module named 'phase7.source_connectors'


----------------------------------------
ERROR: phase7.test_predictor (unittest.loader._FailedTest.phase7.test_predictor)
ImportError: Failed to import test module: phase7.test_predictor
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 396, in _find_test_path
    module = self._get_module_from_name(name)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 339, in _get_module_from_name
    __import__(name)
    ~~~~~~~~~~^^^^^^
  File "/Users/dustinober/tech-pulse/test/phase7/test_predictor.py", line 18, in <module>
    from phase7.predictive_analytics.predictor import (
    ...<3 lines>...
    )
ModuleNotFoundError: No module named 'phase7.predictive_analytics'


----------------------------------------
ERROR: phase7.test_user_management (unittest.loader._FailedTest.phase7.test_user_management)
ImportError: Failed to import test module: phase7.test_user_management
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 396, in _find_test_path
    module = self._get_module_from_name(name)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 339, in _get_module_from_name
    __import__(name)
    ~~~~~~~~~~^^^^^^
  File "/Users/dustinober/tech-pulse/test/phase7/test_user_management.py", line 19, in <module>
    from phase7.user_management.database import UserDatabase
ModuleNotFoundError: No module named 'phase7.user_management'


----------------------------------------
ERROR: portfolio.test_config (unittest.loader._FailedTest.portfolio.test_config)
ImportError: Failed to import test module: portfolio.test_config
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 396, in _find_test_path
    module = self._get_module_from_name(name)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 339, in _get_module_from_name
    __import__(name)
    ~~~~~~~~~~^^^^^^
ModuleNotFoundError: No module named 'portfolio.test_config'


----------------------------------------
ERROR: portfolio.test_experimentation (unittest.loader._FailedTest.portfolio.test_experimentation)
ImportError: Failed to import test module: portfolio.test_experimentation
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 396, in _find_test_path
    module = self._get_module_from_name(name)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 339, in _get_module_from_name
    __import__(name)
    ~~~~~~~~~~^^^^^^
ModuleNotFoundError: No module named 'portfolio.test_experimentation'


----------------------------------------
ERROR: test_create_sidebar (test_dashboard.TestDashboardComponents.test_create_sidebar)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_dashboard.py", line 183, in test_create_sidebar
    app.create_sidebar()
    ~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 279, in create_sidebar
    openai_key = st.text_input(
                 ^^^^^^^^^^^^^
AttributeError: module 'streamlit' has no attribute 'text_input'

----------------------------------------
ERROR: test_initialize_session_state (test_dashboard.TestDashboardInitialization.test_initialize_session_state)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_dashboard.py", line 114, in test_initialize_session_state
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_initialize_session_state_preserves_existing (test_dashboard.TestDashboardInitialization.test_initialize_session_state_preserves_existing)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_dashboard.py", line 133, in test_initialize_session_state_preserves_existing
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_main_with_data (test_dashboard.TestDashboardMain.test_main_with_data)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_dashboard.py", line 405, in test_main_with_data
    app.main()
    ~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 1037, in main
    tab1, tab2, tab3, tab4, tab5, tab6 = st.tabs([
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: not enough values to unpack (expected 6, got 0)

----------------------------------------
ERROR: test_main_without_data (test_dashboard.TestDashboardMain.test_main_without_data)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_dashboard.py", line 431, in test_main_without_data
    app.main()
    ~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 1037, in main
    tab1, tab2, tab3, tab4, tab5, tab6 = st.tabs([
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: not enough values to unpack (expected 6, got 0)

----------------------------------------
ERROR: test_interpretability_report (unittest.loader._FailedTest.test_interpretability_report)
ImportError: Failed to import test module: test_interpretability_report
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 396, in _find_test_path
    module = self._get_module_from_name(name)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 339, in _get_module_from_name
    __import__(name)
    ~~~~~~~~~~^^^^^^
  File "/Users/dustinober/tech-pulse/test/test_interpretability_report.py", line 13, in <module>
    from src.interpretability.interpretability_report import InterpretabilityReport
  File "/Users/dustinober/tech-pulse/src/interpretability/interpretability_report.py", line 5, in <module>
    import matplotlib.pyplot as plt
ModuleNotFoundError: No module named 'matplotlib'


----------------------------------------
ERROR: test_lime_explainer (unittest.loader._FailedTest.test_lime_explainer)
ImportError: Failed to import test module: test_lime_explainer
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 396, in _find_test_path
    module = self._get_module_from_name(name)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 339, in _get_module_from_name
    __import__(name)
    ~~~~~~~~~~^^^^^^
  File "/Users/dustinober/tech-pulse/test/test_lime_explainer.py", line 11, in <module>
    from src.interpretability.lime_explainer import LIMEExplainer
  File "/Users/dustinober/tech-pulse/src/interpretability/lime_explainer.py", line 5, in <module>
    import matplotlib.pyplot as plt
ModuleNotFoundError: No module named 'matplotlib'


----------------------------------------
ERROR: test_partial_dependence (unittest.loader._FailedTest.test_partial_dependence)
ImportError: Failed to import test module: test_partial_dependence
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 396, in _find_test_path
    module = self._get_module_from_name(name)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 339, in _get_module_from_name
    __import__(name)
    ~~~~~~~~~~^^^^^^
  File "/Users/dustinober/tech-pulse/test/test_partial_dependence.py", line 11, in <module>
    from src.interpretability.partial_dependence import PartialDependencePlotter
  File "/Users/dustinober/tech-pulse/src/interpretability/partial_dependence.py", line 5, in <module>
    import matplotlib.pyplot as plt
ModuleNotFoundError: No module named 'matplotlib'


----------------------------------------
ERROR: test_placeholder_error_handling (test_realtime_features.TestRealtimeErrorHandling.test_placeholder_error_handling)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1423, in patched
    with self.decoration_helper(patched,
         ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
                                args,
                                ^^^^^
                                keywargs) as (newargs, newkeywargs):
                                ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1405, in decoration_helper
    arg = exit_stack.enter_context(patching)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 530, in enter_context
    result = _enter(cm)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1497, in __enter__
    original, local = self.get_original()
                      ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1467, in get_original
    raise AttributeError(
        "%s does not have the attribute %r" % (target, name)
    )
AttributeError: <module 'streamlit'> does not have the attribute 'empty'

----------------------------------------
ERROR: test_session_state_error_recovery (test_realtime_features.TestRealtimeErrorHandling.test_session_state_error_recovery)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_features.py", line 403, in test_session_state_error_recovery
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_realtime_loop_structure (test_realtime_features.TestRealtimeLoopMocking.test_realtime_loop_structure)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1423, in patched
    with self.decoration_helper(patched,
         ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
                                args,
                                ^^^^^
                                keywargs) as (newargs, newkeywargs):
                                ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1405, in decoration_helper
    arg = exit_stack.enter_context(patching)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 530, in enter_context
    result = _enter(cm)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1497, in __enter__
    original, local = self.get_original()
                      ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1467, in get_original
    raise AttributeError(
        "%s does not have the attribute %r" % (target, name)
    )
AttributeError: <module 'streamlit'> does not have the attribute 'empty'

----------------------------------------
ERROR: test_container_content_updates (test_realtime_features.TestRealtimePlaceholderContainer.test_container_content_updates)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_features.py", line 250, in test_container_content_updates
    placeholder = app.st.empty()
                  ^^^^^^^^^^^^
AttributeError: module 'streamlit' has no attribute 'empty'

----------------------------------------
ERROR: test_empty_container_creation (test_realtime_features.TestRealtimePlaceholderContainer.test_empty_container_creation)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_features.py", line 225, in test_empty_container_creation
    placeholder = app.st.empty()
                  ^^^^^^^^^^^^
AttributeError: module 'streamlit' has no attribute 'empty'

----------------------------------------
ERROR: test_placeholder_context_manager (test_realtime_features.TestRealtimePlaceholderContainer.test_placeholder_context_manager)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1423, in patched
    with self.decoration_helper(patched,
         ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
                                args,
                                ^^^^^
                                keywargs) as (newargs, newkeywargs):
                                ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1405, in decoration_helper
    arg = exit_stack.enter_context(patching)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 530, in enter_context
    result = _enter(cm)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1497, in __enter__
    original, local = self.get_original()
                      ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1467, in get_original
    raise AttributeError(
        "%s does not have the attribute %r" % (target, name)
    )
AttributeError: <module 'streamlit'> does not have the attribute 'empty'

----------------------------------------
ERROR: test_realtime_display_structure (test_realtime_features.TestRealtimePlaceholderContainer.test_realtime_display_structure)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1423, in patched
    with self.decoration_helper(patched,
         ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
                                args,
                                ^^^^^
                                keywargs) as (newargs, newkeywargs):
                                ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1405, in decoration_helper
    arg = exit_stack.enter_context(patching)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 530, in enter_context
    result = _enter(cm)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1497, in __enter__
    original, local = self.get_original()
                      ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1467, in get_original
    raise AttributeError(
        "%s does not have the attribute %r" % (target, name)
    )
AttributeError: <module 'streamlit'> does not have the attribute 'empty'

----------------------------------------
ERROR: test_initialize_session_state_adds_realtime_variables (test_realtime_features.TestRealtimeSessionState.test_initialize_session_state_adds_realtime_variables)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_features.py", line 93, in test_initialize_session_state_adds_realtime_variables
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_initialize_session_state_preserves_existing_data (test_realtime_features.TestRealtimeSessionState.test_initialize_session_state_preserves_existing_data)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_features.py", line 133, in test_initialize_session_state_preserves_existing_data
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_initialize_session_state_removes_old_variables (test_realtime_features.TestRealtimeSessionState.test_initialize_session_state_removes_old_variables)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_features.py", line 116, in test_initialize_session_state_removes_old_variables
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_last_update_time_initialization (test_realtime_features.TestRealtimeSessionState.test_last_update_time_initialization)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_features.py", line 147, in test_last_update_time_initialization
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_realtime_mode_default_state (test_realtime_features.TestRealtimeSessionState.test_realtime_mode_default_state)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_features.py", line 142, in test_realtime_mode_default_state
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_realtime_help_text_display (test_realtime_features.TestRealtimeToggle.test_realtime_help_text_display)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_features.py", line 157, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_realtime_mode_state_persistence (test_realtime_features.TestRealtimeToggle.test_realtime_mode_state_persistence)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_features.py", line 157, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_realtime_toggle_in_sidebar (test_realtime_features.TestRealtimeToggle.test_realtime_toggle_in_sidebar)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_features.py", line 157, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_realtime_toggle_value_changes (test_realtime_features.TestRealtimeToggle.test_realtime_toggle_value_changes)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_features.py", line 157, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_caption_display (test_realtime_features.TestTimestampDisplay.test_caption_display)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_features.py", line 290, in test_caption_display
    app.st.caption(f"Last Updated: {timestamp}")
    ^^^^^^^^^^^^^^
AttributeError: module 'streamlit' has no attribute 'caption'

----------------------------------------
ERROR: test_timestamp_in_both_modes (test_realtime_features.TestTimestampDisplay.test_timestamp_in_both_modes)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_features.py", line 323, in test_timestamp_in_both_modes
    app.st.caption("Last Updated: 12:00:00")
    ^^^^^^^^^^^^^^
AttributeError: module 'streamlit' has no attribute 'caption'

----------------------------------------
ERROR: test_timestamp_updates_on_refresh (test_realtime_features.TestTimestampDisplay.test_timestamp_updates_on_refresh)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_features.py", line 301, in test_timestamp_updates_on_refresh
    app.st.caption.reset_mock()
    ^^^^^^^^^^^^^^
AttributeError: module 'streamlit' has no attribute 'caption'

----------------------------------------
ERROR: test_concurrent_refresh_requests (test_realtime_integration.TestConcurrentOperations.test_concurrent_refresh_requests)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 511, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_session_state_thread_safety (test_realtime_integration.TestConcurrentOperations.test_session_state_thread_safety)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 511, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_user_interaction_during_updates (test_realtime_integration.TestConcurrentOperations.test_user_interaction_during_updates)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 511, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_data_persistence_across_modes (test_realtime_integration.TestModeSwitching.test_data_persistence_across_modes)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 219, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_manual_to_realtime_switch (test_realtime_integration.TestModeSwitching.test_manual_to_realtime_switch)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 219, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_mode_switching_clears_placeholder (test_realtime_integration.TestModeSwitching.test_mode_switching_clears_placeholder)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 219, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_realtime_to_manual_switch (test_realtime_integration.TestModeSwitching.test_realtime_to_manual_switch)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 219, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_sidebar_updates_with_mode_switch (test_realtime_integration.TestModeSwitching.test_sidebar_updates_with_mode_switch)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 219, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_connection_error_recovery (test_realtime_integration.TestRealtimeErrorHandling.test_connection_error_recovery)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 315, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_error_in_loop_continues_execution (test_realtime_integration.TestRealtimeErrorHandling.test_error_in_loop_continues_execution)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 315, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_session_state_corruption_recovery (test_realtime_integration.TestRealtimeErrorHandling.test_session_state_corruption_recovery)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 315, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_ui_responsiveness_during_errors (test_realtime_integration.TestRealtimeErrorHandling.test_ui_responsiveness_during_errors)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 315, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_full_realtime_cycle_success (test_realtime_integration.TestRealtimeRefreshCycle.test_full_realtime_cycle_success)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 89, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_multiple_refresh_cycles (test_realtime_integration.TestRealtimeRefreshCycle.test_multiple_refresh_cycles)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 89, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_realtime_cycle_with_api_error (test_realtime_integration.TestRealtimeRefreshCycle.test_realtime_cycle_with_api_error)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 89, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_realtime_cycle_with_empty_data (test_realtime_integration.TestRealtimeRefreshCycle.test_realtime_cycle_with_empty_data)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 89, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_charts_update_in_realtime (test_realtime_integration.TestUIResponsiveness.test_charts_update_in_realtime)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 416, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_metrics_update_during_realtime (test_realtime_integration.TestUIResponsiveness.test_metrics_update_during_realtime)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 416, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_timestamp_updates_visible (test_realtime_integration.TestUIResponsiveness.test_timestamp_updates_visible)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 416, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_ui_updates_without_freezing (test_realtime_integration.TestUIResponsiveness.test_ui_updates_without_freezing)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_integration.py", line 416, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_api_call_frequency_in_realtime (test_realtime_performance.TestAPIRateLimiting.test_api_call_frequency_in_realtime)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 243, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_concurrent_api_calls_prevention (test_realtime_performance.TestAPIRateLimiting.test_concurrent_api_calls_prevention)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 243, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_error_recovery_rate_limit (test_realtime_performance.TestAPIRateLimiting.test_error_recovery_rate_limit)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 243, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_refresh_interval_compliance (test_realtime_performance.TestAPIRateLimiting.test_refresh_interval_compliance)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 243, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_extended_session_stability (test_realtime_performance.TestBrowserBehavior.test_extended_session_stability)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 369, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_memory_cleanup_on_tab_close (test_realtime_performance.TestBrowserBehavior.test_memory_cleanup_on_tab_close)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 369, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_tab_reconnection_handling (test_realtime_performance.TestBrowserBehavior.test_tab_reconnection_handling)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 369, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_visual_indicator_performance (test_realtime_performance.TestBrowserBehavior.test_visual_indicator_performance)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 369, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_dataframe_memory_management (test_realtime_performance.TestMemoryUsage.test_dataframe_memory_management)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 94, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_large_dataset_handling (test_realtime_performance.TestMemoryUsage.test_large_dataset_handling)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 94, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_memory_cleanup_after_mode_switch (test_realtime_performance.TestMemoryUsage.test_memory_cleanup_after_mode_switch)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 94, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_memory_usage_stable_during_realtime (test_realtime_performance.TestMemoryUsage.test_memory_usage_stable_during_realtime)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 94, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_performance_alerts (test_realtime_performance.TestPerformanceMetrics.test_performance_alerts)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 606, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_performance_metrics_collection (test_realtime_performance.TestPerformanceMetrics.test_performance_metrics_collection)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 606, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_performance_threshold_monitoring (test_realtime_performance.TestPerformanceMetrics.test_performance_threshold_monitoring)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 606, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_concurrent_ui_operations (test_realtime_performance.TestUIResponsiveness.test_concurrent_ui_operations)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 486, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_interactive_elements_during_updates (test_realtime_performance.TestUIResponsiveness.test_interactive_elements_during_updates)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 486, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_large_data_rendering_performance (test_realtime_performance.TestUIResponsiveness.test_large_data_rendering_performance)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 486, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_ui_update_frequency (test_realtime_performance.TestUIResponsiveness.test_ui_update_frequency)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 154, in create_user
    conn.execute("""
    ~~~~~~~~~~~~^^^^
        INSERT INTO users (user_id, username, email, preferences)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (?, ?, ?, ?)
        ^^^^^^^^^^^^^^^^^^^
    """, (user_id, username, email, json.dumps(default_preferences)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: users.email

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_realtime_performance.py", line 486, in setUp
    app.initialize_session_state()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/app.py", line 79, in initialize_session_state
    st.session_state.current_user_id = db.create_user(
                                       ~~~~~~~~~~~~~~^
        username=f"demo_user_{datetime.now().strftime('%Y%m%d')}",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        email="demo@techpulse.com",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        preferences={"theme": "light", "notifications": True}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/test/../src/phase7/user_management/database.py", line 161, in create_user
    raise ValueError(f"Username or email already exists: {str(e)}")
ValueError: Username or email already exists: UNIQUE constraint failed: users.email

----------------------------------------
ERROR: test_disk_usage_for_vector_storage (test_search_performance.TestResourceUsage.test_disk_usage_for_vector_storage)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1611, in __enter__
    setattr(self.target, self.attribute, new_attr)
    ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: property 'collection' of 'VectorSearchManager' object has no setter

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 503, in test_disk_usage_for_vector_storage
    with patch.object(manager, 'collection') as mock_collection:
         ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1624, in __enter__
    if not self.__exit__(*sys.exc_info()):
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1635, in __exit__
    delattr(self.target, self.attribute)
    ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: property 'collection' of 'VectorSearchManager' object has no deleter

----------------------------------------
ERROR: test_batch_processing_performance (test_search_performance.TestSearchPerformance.test_batch_processing_performance)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 43, in setUp
    self.large_df = self._create_large_dataset(500)
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 53, in _create_large_dataset
    f"AI and machine learning advancement {i}",
                                           ^
UnboundLocalError: cannot access local variable 'i' where it is not associated with a value

----------------------------------------
ERROR: test_cache_performance (test_search_performance.TestSearchPerformance.test_cache_performance)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 43, in setUp
    self.large_df = self._create_large_dataset(500)
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 53, in _create_large_dataset
    f"AI and machine learning advancement {i}",
                                           ^
UnboundLocalError: cannot access local variable 'i' where it is not associated with a value

----------------------------------------
ERROR: test_concurrent_searches (test_search_performance.TestSearchPerformance.test_concurrent_searches)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 43, in setUp
    self.large_df = self._create_large_dataset(500)
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 53, in _create_large_dataset
    f"AI and machine learning advancement {i}",
                                           ^
UnboundLocalError: cannot access local variable 'i' where it is not associated with a value

----------------------------------------
ERROR: test_embedding_generation_performance (test_search_performance.TestSearchPerformance.test_embedding_generation_performance)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 43, in setUp
    self.large_df = self._create_large_dataset(500)
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 53, in _create_large_dataset
    f"AI and machine learning advancement {i}",
                                           ^
UnboundLocalError: cannot access local variable 'i' where it is not associated with a value

----------------------------------------
ERROR: test_memory_usage_during_operations (test_search_performance.TestSearchPerformance.test_memory_usage_during_operations)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 43, in setUp
    self.large_df = self._create_large_dataset(500)
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 53, in _create_large_dataset
    f"AI and machine learning advancement {i}",
                                           ^
UnboundLocalError: cannot access local variable 'i' where it is not associated with a value

----------------------------------------
ERROR: test_model_loading_performance (test_search_performance.TestSearchPerformance.test_model_loading_performance)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 43, in setUp
    self.large_df = self._create_large_dataset(500)
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 53, in _create_large_dataset
    f"AI and machine learning advancement {i}",
                                           ^
UnboundLocalError: cannot access local variable 'i' where it is not associated with a value

----------------------------------------
ERROR: test_scalability_with_dataset_size (test_search_performance.TestSearchPerformance.test_scalability_with_dataset_size)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 43, in setUp
    self.large_df = self._create_large_dataset(500)
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 53, in _create_large_dataset
    f"AI and machine learning advancement {i}",
                                           ^
UnboundLocalError: cannot access local variable 'i' where it is not associated with a value

----------------------------------------
ERROR: test_search_response_time (test_search_performance.TestSearchPerformance.test_search_response_time)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 43, in setUp
    self.large_df = self._create_large_dataset(500)
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/dustinober/tech-pulse/test/test_search_performance.py", line 53, in _create_large_dataset
    f"AI and machine learning advancement {i}",
                                           ^
UnboundLocalError: cannot access local variable 'i' where it is not associated with a value

----------------------------------------
ERROR: test_ui_component_integration (test_semantic_search_integration.TestSemanticSearchIntegration.test_ui_component_integration)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1423, in patched
    with self.decoration_helper(patched,
         ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
                                args,
                                ^^^^^
                                keywargs) as (newargs, newkeywargs):
                                ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1405, in decoration_helper
    arg = exit_stack.enter_context(patching)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 530, in enter_context
    result = _enter(cm)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1497, in __enter__
    original, local = self.get_original()
                      ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1467, in get_original
    raise AttributeError(
        "%s does not have the attribute %r" % (target, name)
    )
AttributeError: <module 'streamlit'> does not have the attribute 'write'

----------------------------------------
ERROR: test_document_addition_and_retrieval (test_semantic_search_integration.TestVectorSearchManagerIntegration.test_document_addition_and_retrieval)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1611, in __enter__
    setattr(self.target, self.attribute, new_attr)
    ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: property 'collection' of 'VectorSearchManager' object has no setter

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_semantic_search_integration.py", line 499, in test_document_addition_and_retrieval
    with patch.object(test_manager, 'collection') as mock_collection:
         ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1624, in __enter__
    if not self.__exit__(*sys.exc_info()):
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1635, in __exit__
    delattr(self.target, self.attribute)
    ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: property 'collection' of 'VectorSearchManager' object has no deleter

----------------------------------------
ERROR: test_manager_initialization (test_semantic_search_integration.TestVectorSearchManagerIntegration.test_manager_initialization)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_semantic_search_integration.py", line 452, in test_manager_initialization
    _ = self.test_manager.embedding_model
        ^^^^^^^^^^^^^^^^^
AttributeError: 'TestVectorSearchManagerIntegration' object has no attribute 'test_manager'

----------------------------------------
ERROR: test_search_functionality (test_semantic_search_integration.TestVectorSearchManagerIntegration.test_search_functionality)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1611, in __enter__
    setattr(self.target, self.attribute, new_attr)
    ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: property 'collection' of 'VectorSearchManager' object has no setter

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_semantic_search_integration.py", line 525, in test_search_functionality
    with patch.object(test_manager, 'collection') as mock_collection:
         ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1624, in __enter__
    if not self.__exit__(*sys.exc_info()):
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1635, in __exit__
    delattr(self.target, self.attribute)
    ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: property 'collection' of 'VectorSearchManager' object has no deleter

----------------------------------------
ERROR: test_shap_explainer (unittest.loader._FailedTest.test_shap_explainer)
ImportError: Failed to import test module: test_shap_explainer
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 396, in _find_test_path
    module = self._get_module_from_name(name)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/loader.py", line 339, in _get_module_from_name
    __import__(name)
    ~~~~~~~~~~^^^^^^
  File "/Users/dustinober/tech-pulse/test/test_shap_explainer.py", line 11, in <module>
    from src.interpretability.shap_explainer import SHAPExplainer
  File "/Users/dustinober/tech-pulse/src/interpretability/shap_explainer.py", line 5, in <module>
    import matplotlib.pyplot as plt
ModuleNotFoundError: No module named 'matplotlib'


----------------------------------------
ERROR: test_get_session_state_with_streamlit (test_vector_search.TestVectorCacheManager.test_get_session_state_with_streamlit)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1423, in patched
    with self.decoration_helper(patched,
         ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
                                args,
                                ^^^^^
                                keywargs) as (newargs, newkeywargs):
                                ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1405, in decoration_helper
    arg = exit_stack.enter_context(patching)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 530, in enter_context
    result = _enter(cm)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1497, in __enter__
    original, local = self.get_original()
                      ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1467, in get_original
    raise AttributeError(
        "%s does not have the attribute %r" % (target, name)
    )
AttributeError: <module 'vector_cache_manager' from '/Users/dustinober/tech-pulse/vector_cache_manager.py'> does not have the attribute 'st'

----------------------------------------
ERROR: test_get_session_state_without_streamlit (test_vector_search.TestVectorCacheManager.test_get_session_state_without_streamlit)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1423, in patched
    with self.decoration_helper(patched,
         ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
                                args,
                                ^^^^^
                                keywargs) as (newargs, newkeywargs):
                                ^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1405, in decoration_helper
    arg = exit_stack.enter_context(patching)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 530, in enter_context
    result = _enter(cm)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1497, in __enter__
    original, local = self.get_original()
                      ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1467, in get_original
    raise AttributeError(
        "%s does not have the attribute %r" % (target, name)
    )
AttributeError: <module 'vector_cache_manager' from '/Users/dustinober/tech-pulse/vector_cache_manager.py'> does not have the attribute 'st'

----------------------------------------
ERROR: test_add_documents_empty (test_vector_search.TestVectorSearchEngine.test_add_documents_empty)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_vector_search.py", line 109, in test_add_documents_empty
    self.engine.collection = Mock()
    ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: property 'collection' of 'VectorSearchManager' object has no setter

----------------------------------------
ERROR: test_add_documents_success (test_vector_search.TestVectorSearchEngine.test_add_documents_success)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_vector_search.py", line 121, in test_add_documents_success
    self.engine.collection = Mock()
    ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: property 'collection' of 'VectorSearchManager' object has no setter

----------------------------------------
ERROR: test_clear_collection (test_vector_search.TestVectorSearchEngine.test_clear_collection)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_vector_search.py", line 184, in test_clear_collection
    self.engine.collection = Mock()
    ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: property 'collection' of 'VectorSearchManager' object has no setter

----------------------------------------
ERROR: test_generate_embedding_hash (test_vector_search.TestVectorSearchEngine.test_generate_embedding_hash)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_vector_search.py", line 58, in test_generate_embedding_hash
    hash1 = self.engine.generate_embedding_hash(texts)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'VectorSearchManager' object has no attribute 'generate_embedding_hash'. Did you mean: 'generate_embeddings'?

----------------------------------------
ERROR: test_generate_embeddings_success (test_vector_search.TestVectorSearchEngine.test_generate_embeddings_success)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/huggingface_hub/utils/_http.py", line 402, in hf_raise_for_status
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/requests/models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://huggingface.co/sentence-transformers/test-model/resolve/main/adapter_config.json

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/transformers/utils/hub.py", line 479, in cached_files
    hf_hub_download(
    ~~~~~~~~~~~~~~~^
        path_or_repo_id,
        ^^^^^^^^^^^^^^^^
    ...<10 lines>...
        local_files_only=local_files_only,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/huggingface_hub/utils/_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/huggingface_hub/file_download.py", line 1007, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
        # Destination
    ...<14 lines>...
        force_download=force_download,
    )
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/huggingface_hub/file_download.py", line 1114, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/huggingface_hub/file_download.py", line 1655, in _raise_on_head_call_error
    raise head_call_error
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/huggingface_hub/file_download.py", line 1543, in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
        url=url, proxies=proxies, timeout=etag_timeout, headers=headers, token=token, endpoint=endpoint
    )
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/huggingface_hub/utils/_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/huggingface_hub/file_download.py", line 1460, in get_hf_file_metadata
    r = _request_wrapper(
        method="HEAD",
    ...<5 lines>...
        timeout=timeout,
    )
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/huggingface_hub/file_download.py", line 283, in _request_wrapper
    response = _request_wrapper(
        method=method,
    ...<2 lines>...
        **params,
    )
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/huggingface_hub/file_download.py", line 307, in _request_wrapper
    hf_raise_for_status(response)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/huggingface_hub/utils/_http.py", line 452, in hf_raise_for_status
    raise _format(RepositoryNotFoundError, message, response) from e
huggingface_hub.errors.RepositoryNotFoundError: 401 Client Error. (Request ID: Root=1-69363bd0-3d64818b48f70e6b71aadd50;cf6c3f31-6a5d-4a7a-a1b1-887c582cddb3)

Repository Not Found for url: https://huggingface.co/sentence-transformers/test-model/resolve/main/adapter_config.json.
Please make sure you specified the correct `repo_id` and `repo_type`.
If you are trying to access a private or gated repo, make sure you are authenticated. For more details, see https://huggingface.co/docs/huggingface_hub/authentication
Invalid username or password.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/vector_search.py", line 117, in embedding_model
    self._embedding_model = SentenceTransformer(self.model_name, device=self.device)
                            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/sentence_transformers/SentenceTransformer.py", line 339, in __init__
    modules = self._load_auto_model(
        model_name_or_path,
    ...<8 lines>...
        has_modules=has_modules,
    )
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/sentence_transformers/SentenceTransformer.py", line 2112, in _load_auto_model
    transformer_model = Transformer(
        model_name_or_path,
    ...<4 lines>...
        backend=self.backend,
    )
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/sentence_transformers/models/Transformer.py", line 87, in __init__
    config, is_peft_model = self._load_config(model_name_or_path, cache_dir, backend, config_args)
                            ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/sentence_transformers/models/Transformer.py", line 138, in _load_config
    find_adapter_config_file(
    ~~~~~~~~~~~~~~~~~~~~~~~~^
        model_name_or_path,
        ^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
        local_files_only=config_args.get("local_files_only", False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/transformers/utils/peft_utils.py", line 88, in find_adapter_config_file
    adapter_cached_filename = cached_file(
        model_id,
    ...<12 lines>...
        _raise_exceptions_for_connection_errors=False,
    )
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/transformers/utils/hub.py", line 322, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "/Users/dustinober/tech-pulse/venv/lib/python3.13/site-packages/transformers/utils/hub.py", line 511, in cached_files
    raise OSError(
    ...<4 lines>...
    ) from e
OSError: sentence-transformers/test-model is not a local folder and is not a valid model identifier listed on 'https://huggingface.co/models'
If this is a private repository, make sure to pass a token having permission to this repo either by logging in with `hf auth login` or by passing `token=<your_token>`

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/vector_search.py", line 232, in generate_embeddings
    embeddings = self.embedding_model.encode(
                 ^^^^^^^^^^^^^^^^^^^^
  File "/Users/dustinober/tech-pulse/vector_search.py", line 130, in embedding_model
    raise RuntimeError(f"Could not load embedding model {self.model_name}: {str(e)}")
RuntimeError: Could not load embedding model test-model: sentence-transformers/test-model is not a local folder and is not a valid model identifier listed on 'https://huggingface.co/models'
If this is a private repository, make sure to pass a token having permission to this repo either by logging in with `hf auth login` or by passing `token=<your_token>`

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_vector_search.py", line 99, in test_generate_embeddings_success
    result = self.engine.generate_embeddings(texts)
  File "/Users/dustinober/tech-pulse/vector_search.py", line 243, in generate_embeddings
    raise RuntimeError(f"Embedding generation failed: {str(e)}")
RuntimeError: Embedding generation failed: Could not load embedding model test-model: sentence-transformers/test-model is not a local folder and is not a valid model identifier listed on 'https://huggingface.co/models'
If this is a private repository, make sure to pass a token having permission to this repo either by logging in with `hf auth login` or by passing `token=<your_token>`

Stderr:
Loading embedding model:   0%|          | 0/100 [00:00<?, ?%/s]Downloading test-model:   0%|          | 0/100 [00:00<?, ?%/s] Downloading test-model:   0%|          | 0/100 [00:00<?, ?%/s]

----------------------------------------
ERROR: test_get_collection_info_not_initialized (test_vector_search.TestVectorSearchEngine.test_get_collection_info_not_initialized)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_vector_search.py", line 173, in test_get_collection_info_not_initialized
    self.assertFalse(info['initialized'])
                     ~~~~^^^^^^^^^^^^^^^
KeyError: 'initialized'

----------------------------------------
ERROR: test_initialize_success (test_vector_search.TestVectorSearchEngine.test_initialize_success)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_vector_search.py", line 51, in test_initialize_success
    self.assertTrue(self.engine._initialized)
                    ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'VectorSearchManager' object has no attribute '_initialized'. Did you mean: 'initialize'?

Stderr:
Loading embedding model:   0%|          | 0/100 [00:00<?, ?%/s]Downloading test-model:   0%|          | 0/100 [00:00<?, ?%/s] Initializing model:  50%|#####     | 50/100 [00:00<00:00, 1219274.42%/s]Initializing model: 100%|##########| 100/100 [00:00<00:00, 838860.80%/s]

----------------------------------------
ERROR: test_search_success (test_vector_search.TestVectorSearchEngine.test_search_success)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_vector_search.py", line 157, in test_search_success
    self.engine.collection = Mock()
    ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: property 'collection' of 'VectorSearchManager' object has no setter

----------------------------------------
ERROR: test_add_documents_failure (test_vector_search_infrastructure.TestVectorSearchErrorHandling.test_add_documents_failure)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_vector_search_infrastructure.py", line 475, in test_add_documents_failure
    result = self.manager.add_documents(["doc1"], ["id1"])
TypeError: VectorSearchManager.add_documents() takes 2 positional arguments but 3 were given

----------------------------------------
ERROR: test_search_failure (test_vector_search_infrastructure.TestVectorSearchErrorHandling.test_search_failure)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_vector_search_infrastructure.py", line 494, in test_search_failure
    self.assertEqual(result['results'], [])
                     ~~~~~~^^^^^^^^^^^
TypeError: list indices must be integers or slices, not str

----------------------------------------
ERROR: test_add_documents (test_vector_search_infrastructure.TestVectorSearchManager.test_add_documents)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_vector_search_infrastructure.py", line 221, in test_add_documents
    result = self.manager.add_documents(documents, ids, metadata)
TypeError: VectorSearchManager.add_documents() takes 2 positional arguments but 4 were given

----------------------------------------
ERROR: test_add_documents_mismatched_lengths (test_vector_search_infrastructure.TestVectorSearchManager.test_add_documents_mismatched_lengths)
Traceback (most recent call last):
  File "/Users/dustinober/tech-pulse/test/test_vector_search_infrastructure.py", line 241, in test_add_documents_mismatched_lengths
    self.manager.add_documents(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        documents=["Doc 1", "Doc 2"],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        ids=["doc1"]  # Only one ID
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
TypeError: VectorSearchManager.add_documents() got an unexpected keyword argument 'ids'

----------------------------------------
ERROR: test_search (test_vector_search_infrastructure.TestVectorSearchManager.test_search)
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_vector_search_infrastructure.py", line 292, in test_search
    self.assertEqual(result['query'], query)
                     ~~~~~~^^^^^^^^^
TypeError: list indices must be integers or slices, not str

Stderr:
--- Logging error ---
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/logging/__init__.py", line 1154, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
BrokenPipeError: [Errno 32] Broken pipe
Call stack:
  File "/Users/dustinober/tech-pulse/test/run_tests.py", line 209, in <module>
    exit_code = main()
  File "/Users/dustinober/tech-pulse/test/run_tests.py", line 184, in main
    result, stdout_output, stderr_output = run_tests()
  File "/Users/dustinober/tech-pulse/test/run_tests.py", line 35, in run_tests
    result = runner.run(suite)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/runner.py", line 240, in run
    test(result)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 84, in __call__
    return self.run(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 122, in run
    test(result)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 84, in __call__
    return self.run(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 122, in run
    test(result)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 84, in __call__
    return self.run(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 122, in run
    test(result)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/case.py", line 707, in __call__
    return self.run(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/case.py", line 647, in run
    self._callSetUp()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/case.py", line 603, in _callSetUp
    self.setUp()
  File "/Users/dustinober/tech-pulse/test/test_vector_search_infrastructure.py", line 32, in setUp
    self.manager = VectorSearchManager(
  File "/Users/dustinober/tech-pulse/vector_search.py", line 99, in __init__
    self.logger.info(f"VectorSearchManager initialized with model: {model_name}")
Message: 'VectorSearchManager initialized with model: test-model'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/logging/__init__.py", line 1154, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
BrokenPipeError: [Errno 32] Broken pipe
Call stack:
  File "/Users/dustinober/tech-pulse/test/run_tests.py", line 209, in <module>
    exit_code = main()
  File "/Users/dustinober/tech-pulse/test/run_tests.py", line 184, in main
    result, stdout_output, stderr_output = run_tests()
  File "/Users/dustinober/tech-pulse/test/run_tests.py", line 35, in run_tests
    result = runner.run(suite)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/runner.py", line 240, in run
    test(result)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 84, in __call__
    return self.run(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 122, in run
    test(result)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 84, in __call__
    return self.run(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 122, in run
    test(result)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 84, in __call__
    return self.run(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/suite.py", line 122, in run
    test(result)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/case.py", line 707, in __call__
    return self.run(*args, **kwds)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/case.py", line 651, in run
    self._callTestMethod(testMethod)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/case.py", line 606, in _callTestMethod
    if method() is not None:
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1426, in patched
    return func(*newargs, **newkeywargs)
  File "/Users/dustinober/tech-pulse/test/test_vector_search_infrastructure.py", line 277, in test_search
    result = self.manager.search(query, n_results=5)
  File "/Users/dustinober/tech-pulse/vector_search.py", line 325, in search
    self.logger.info(f"Search returned {len(formatted_results)} results")
Message: 'Search returned 2 results'
Arguments: ()

----------------------------------------

TEST SUMMARY BY CLASS:
----------------------------------------
âœ— TestAPIRateLimiting: 0/4 passed
âœ— TestBrowserBehavior: 0/4 passed
âœ— TestConcurrentOperations: 0/3 passed
âœ— TestDashboardComponents: 0/1 passed
âœ— TestDashboardInitialization: 0/2 passed
âœ— TestDashboardMain: 0/2 passed
âœ— TestDeploymentReady: 0/1 passed
âœ“ TestExtractStoryData: 6/6 passed
âœ“ TestFetchHnData: 5/5 passed
âœ“ TestFetchStoryDetails: 3/3 passed
âœ“ TestFetchStoryIds: 4/4 passed
âœ— TestMemoryUsage: 0/4 passed
âœ— TestModeSwitching: 0/5 passed
âœ— TestPerformanceMetrics: 0/3 passed
âœ“ TestProcessStoriesToDataframe: 4/4 passed
âœ— TestRealtimeErrorHandling: 0/6 passed
âœ— TestRealtimeLoopMocking: 0/1 passed
âœ— TestRealtimePlaceholderContainer: 0/4 passed
âœ— TestRealtimeRefreshCycle: 0/4 passed
âœ— TestRealtimeSessionState: 0/5 passed
âœ— TestRealtimeToggle: 0/4 passed
âœ— TestRequirements: 0/1 passed
âœ— TestResourceUsage: 0/1 passed
âœ— TestSearchPerformance: 0/8 passed
âœ— TestSemanticSearchIntegration: 0/3 passed
âœ— TestTimestampDisplay: 0/3 passed
âœ— TestUIResponsiveness: 0/8 passed
âœ— TestVectorCacheManager: 0/2 passed
âœ— TestVectorSearchEngine: 0/8 passed
âœ— TestVectorSearchErrorHandling: 0/2 passed
âœ— TestVectorSearchManager: 0/3 passed
âœ— TestVectorSearchManagerIntegration: 0/3 passed
âœ— TestVectorSearchUtilityFunctions: 0/1 passed
âœ— _FailedTest: 0/4 passed
âœ— phase7: 0/3 passed
âœ— portfolio: 0/2 passed

================================================================================
